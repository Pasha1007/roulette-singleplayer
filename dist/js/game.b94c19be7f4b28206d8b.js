(()=>{var e,t={6445:(e,t,i)=>{var n={"./common/AutomaticallyText.js":47001,"./common/gamebutton.js":19017,"./common/language.js":25417,"./common/layouthelp.js":47550,"./roulette.js":44741,"./roulette/Util.js":27104,"./roulette/background-music-manager.js":61464,"./roulette/chip.js":68414,"./roulette/config.js":84854,"./roulette/gamedefine.js":20877,"./roulette/gamestate.js":28001,"./roulette/mainboard.js":95537,"./roulette/roommgr.js":27409,"./roulette/roulettetable.js":14662,"./roulette/roulettewin.js":18640,"./roulette/sound-popup.js":55506,"./roulette/tablerect.js":83424,"./roulette/timetip.js":7708,"./roulette/vediowheel.js":93114,"./roulette/videomanager.js":95370,"./roulette/wheel.js":52545};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=6445},7708:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(27231),i(91906),i(64202),i(18700),i(50709),i(47936);var a=n(i(82942)),s=n(i(18408)),o=i(22965),r=i(12757),l=(i(20877),n(i(27104)));t.default=function(){return(0,s.default)(function e(t,i,n,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];(0,a.default)(this,e),this.root=s,this.initTip(t,i,o,n,r,l)},[{key:"initTip",value:function(e,t,i,n,a,s){this.tempSeconds=0,this.container=new o.Container,this.root.addChild(this.container),this._sprite=o.Sprite.from(e),this._sprite.anchor.set(.5,.5),this._sprite.position.set(-60,0),this.container.addChild(this._sprite);var r=this.timeFormat(0);if(this._timetxt=l.default.createrTxt(r,i,"0xffffff",!0),this._timetxt.position.set(30,0),this.container.addChild(this._timetxt),""!=t){var u=null==a?38:a,h=s?"bold":"normal",c=new o.TextStyle({fill:"white",fontFamily:"swipegamefont",fontWeight:h,fontSize:u,lineJoin:"round"});this._text=new o.Text(t,c),this._text.anchor.set(.5,.5),this._text.position.set(n.x,n.y),this.textoffset=n,this.container.addChild(this._text)}}},{key:"timeFormat",value:function(e){if("number"!=typeof e||e<=0||isNaN(e))return"00:00";var t=Math.floor(e/1e3),i=t%60,n=Math.floor(t/60).toString().padStart(2,"0"),a=i.toString().padStart(2,"0");return"".concat(n,":").concat(a)}},{key:"refreshTime",value:function(e){if(this._timetxt){var t=this.timeFormat(e);this._timetxt.text=t;var i=Math.floor(e/1e3);this.tempSeconds!=i&&(this.tempSeconds=i,this._sprite.run(r.Action.rotateBy(Math.PI,.2)))}}},{key:"setColorRed",value:function(e){var t=e?"0xb30b0b":"0xffffff";this._timetxt.style.fill=t}},{key:"setPosition",value:function(e,t){this.container.position.set(e,t)}},{key:"setVisiable",value:function(e){this.container.visible=e}}])}()},14662:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(2971));i(47936);var s=n(i(50936)),o=n(i(82942)),r=n(i(18408)),l=i(22965),u=i(12757),h=i(84854),c=n(i(28001)),d=n(i(95537)),f=i(20877);(0,u.registerPixiJSActionsMixin)(l.Container);t.default=function(){return(0,r.default)(function e(){(0,o.default)(this,e)},[{key:"inittable",value:function(e,t,i,n,a){this.m_app=e,this.setProgress=i,this.renderwitdth=e.screen.width,this.renderheight=e.screen.height,this.hasInitCfg=!1,this.loadresdone=!1,c.default.getInstance().registerEventEmitter(t,n,a),this.setProgress(10)}},{key:"onRticker",value:function(e){var t=e/60;(u.Action.tick(1e3*t),this.hasInitCfg)||c.default.getInstance().gamecfginit&&this.loadresdone&&(this.hasInitCfg=!0,this.mainboard.serCfgSuccess());this.hasInitCfg&&this.mainboard.update(t),this.resizeTable(!1)}},{key:"initTicker",value:function(){var e=this.m_app.ticker;e.add(this.onRticker.bind(this)),e.start()}},{key:"initComponents",value:function(){var e=this.m_app.stage;this.bgcontainer=new l.Container,e.addChild(this.bgcontainer),this.container=new l.Container,e.addChild(this.container),this.historycontainer=new l.Container,e.addChild(this.historycontainer),this.initBackground(),this.initTable(),this.resizeTable(!0)}},{key:"initBackground",value:function(){var e=h.RouletteCfg.DesiWidth,t=h.RouletteCfg.DesiHeight,i=l.Sprite.from("bgcenter.jpg");i.anchor.set(.5,.5),i.position.set(0,0);var n=e/540+.2,a=t/960+.2;i.scale.set(n,a),this.bgcontainer.addChild(i)}},{key:"initTable",value:function(){this.mainboard=new d.default,this.container.addChild(this.mainboard.root);var e=h.RouletteCfg.DesiWidth,t=h.RouletteCfg.DesiHeight,i=this.mainboard.history;i.position.set(-e/2,-t/2+42),this.historycontainer.addChild(i);var n=this.mainboard.historybg;n.position.set(-e/2,-t/2+42),this.historycontainer.addChild(n)}},{key:"resizeTable",value:function(e){if(this.renderwitdth!=this.m_app.screen.width||this.renderheight!=this.m_app.screen.height||e){this.renderwitdth=this.m_app.screen.width,this.renderheight=this.m_app.screen.height;var t=this.renderwitdth/h.RouletteCfg.DesiWidth,i=this.renderheight/h.RouletteCfg.DesiHeight;this.bgcontainer.position.set(.5*this.renderwitdth,.5*this.renderheight),this.bgcontainer.scale.set(t,i),this.historycontainer.position.set(.5*this.renderwitdth,.5*this.renderheight),this.historycontainer.scale.set(t,i);var n=this.renderwitdth/h.RouletteCfg.DesiWidth,a=.4*this.renderheight;this.renderwitdth<=768&&(n*=.8,a=.5*this.renderheight),this.container.position.set(.5*this.renderwitdth,a),this.container.scale.set(n,n)}}},{key:"loadGameAssets",value:(e=(0,s.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.Assets.add({alias:"gameui",src:"../../assets2/roulette/rouletteui.json"}),this.setProgress(20),e.next=1,l.Assets.load("gameui");case 1:if(this.setProgress(40),!f.Define.NeedDefaultWheel){e.next=3;break}return l.Assets.add({alias:"wheelui",src:"../../assets2/roulette/roulettewheel.json"}),e.next=2,l.Assets.load("wheelui");case 2:this.setProgress(60);case 3:if(!f.Define.NeedDefaultWinUi){e.next=5;break}return l.Assets.add({alias:"winui",src:"../../assets2/roulette/roulettewin.json"}),e.next=4,l.Assets.load("winui");case 4:this.setProgress(80);case 5:this.loadresdone=!0,this.setProgress(95),this.initComponents(),this.initTicker(),this.setProgress(100),e.next=7;break;case 6:e.prev=6,t=e.catch(0),console.error("[ROULETTE] Failed to load game assets:",t),this.setProgress(100);case 7:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return e.apply(this,arguments)})}]);var e}()},18640:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(47936);var a=n(i(82942)),s=n(i(18408)),o=i(22965),r=i(12757),l=n(i(27104)),u=n(i(28001)),h=i(84854);t.default=function(){return(0,s.default)(function e(t){(0,a.default)(this,e),this.coinanicountspeed=1,this.coinanitimecount=0,this.coinanitimediff=.1,this.coinanistilltime=-1,this.coincontainer=null,this.stopupdate=!0,this.container=new o.Container,t.addChild(this.container)},[{key:"numberColor",value:function(e){return h.RedNumbers.indexOf(e)>=0?8257536:h.BlackNumbers.indexOf(e)>=0?0:3177475}},{key:"initWinAniPosi",value:function(e,t){this.container.position.set(e,t)}},{key:"initResultNumber",value:function(e){this.resultnode=new o.Container;var t=this.numberColor(e),i=new o.Graphics;i.beginFill(t),i.drawCircle(0,0,130),i.endFill(),this.resultnode.addChild(i);var n=o.Sprite.from("winbg.png");n.anchor.set(.5,.5),n.position.set(0,0),this.resultnode.addChild(n);var a=l.default.createrTxt(e,128,"0xffffff",!0);a.anchor.set(.5,.5),this.resultnode.addChild(a),this.resultnode.position.set(0,-300),this.resultnode.scale.set(0,0),this.container.addChild(this.resultnode);var s=r.Action.scaleTo(1,1,.2);this.resultnode.run(s)}},{key:"initCoinWin",value:function(e,t,i){if(!(e<=0)){this.stopupdate=!1,this.coinanicountspeed=Math.floor(e/t*.4)+1,this.coinanicountspeed=Math.min(5,this.coinanicountspeed),this.coinanitimediff=.01,this.coinanitimecount=0,this.coinanistilltime=i;this.coincontainer=new o.Container,this.container.addChild(this.coincontainer);var n=o.Sprite.from("resultwin.png");n.anchor.set(.5,.5),n.position.set(0,50),this.container.addChild(n);var a=new o.TextStyle({fill:16774268,fontFamily:"swipegamefont",fontWeight:"bold",fontSize:220,lineJoin:"round"}),s=u.default.getInstance().getLanguage("common_label_congratulations"),r=l.default.createrTxtStyle(s,72,a);r.position.set(0,-50),this.container.addChild(r);var h=u.default.getInstance().formatMoney(e);this.m_numberText=l.default.createrTxtStyle(h,120,a),this.m_numberText.anchor.set(.5,.5),this.m_numberText.position.set(0,100),this.container.addChild(this.m_numberText),this.scaleCoinWinNumber()}}},{key:"clearCoinWin",value:function(){this.stopupdate=!0,this.coinanistilltime=-1,null!=this.coincontainer&&(this.coincontainer.removeFromParent(),this.coincontainer.destroy({children:!0}),this.coincontainer=null),null!=this.resultnode&&(this.resultnode.removeFromParent(),this.resultnode.destroy({children:!0}),this.resultnode=null),this.container.removeChildren()}},{key:"update",value:function(e){this.stopupdate||this.coinanistilltime>0&&(this.coinanistilltime-=e,this.coinanitimecount+=e,this.coinanitimecount>=this.coinanitimediff&&(this.coinanitimediff+=.008,this.coinanitimediff=Math.min(this.coinanitimediff,.5),this.coinanitimecount=0,this.showWinAni()))}},{key:"scaleCoinWinNumber",value:function(){var e=r.Action.scaleTo(1.3,1.3,.1),t=r.Action.scaleTo(1,1,.1),i=r.Action.sequence([e,t]);this.m_numberText.run(i)}},{key:"showWinAni",value:function(){for(var e=0;e<this.coinanicountspeed;e++){var t=new o.Point(0,0),i=new o.Point(0,0),n=new o.Sprite;n.anchor.set(.5,.5);var a=this.GetRandomPointInRing(0,50);t.x=a.x,t.y=a.y,a=this.GetRandomPointInRing(1e3,1100),i.x=a.x,i.y=a.y,n.position.set(t.x,t.y),this.coincontainer.addChild(n),this.AddCoinFrameAni(n),this.PlayCoinAni(n,i)}}},{key:"AddCoinFrameAni",value:function(e){for(var t=[],i=0;i<8;++i)t.push(o.Texture.from("rslot_coin_".concat(i,".png")));var n=new o.AnimatedSprite(t);n.anchor.set(.5,.5),n.animationSpeed=.5,n.scale.set(2.5,2.5),n.rotation=360*Math.random(),e.addChild(n),n.play()}},{key:"PlayCoinAni",value:function(e,t){var i=this;e.scale.set(.5);var n=1*Math.random()+1,a=r.Action.group([r.Action.scaleTo(1.5,n+.5),r.Action.sequence([r.Action.moveTo(t,n),r.Action.fadeOut(.5*n)])]);e.run(a,function(){i.coincontainer&&i.coincontainer.removeChild(e)})}},{key:"GetRandomPointInRing",value:function(e,t){var i=Math.random()*(t-e)+e,n=2*Math.random()*Math.PI;return{x:i*Math.cos(n),y:i*Math.sin(n)}}}])}()},19017:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(91906),i(47936);var a=n(i(82942)),s=n(i(18408)),o=i(22965);t.default=function(){return(0,s.default)(function e(t,i,n,s,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];(0,a.default)(this,e),this.root=o,this._onClick=null,this.buttonname=t,this.initButton(i,r,n,s,l,u)},[{key:"initButton",value:function(e,t,i,n,a,s){if(this.container=new o.Container,this.root.addChild(this.container),this._sprite=o.Sprite.from(e),this._sprite.anchor.set(.5,.5),this._sprite.position.set(0,0),this.container.addChild(this._sprite),this._sprite.interactive=!0,this._sprite.buttonMode=!0,this._sprite.on("pointerdown",this.handleOnPointerDown,this),null!=t&&(this._childsprite=o.Sprite.from(t),this._childsprite.anchor.set(.5,.5),this._childsprite.position.set(0,0),this.container.addChild(this._childsprite)),""!=i){var r=null==a?38:a,l=s?"bold":"normal",u=new o.TextStyle({fill:"white",fontFamily:"swipegamefont",fontWeight:l,fontSize:r,lineJoin:"round"});this._text=new o.Text(i,u),this._text.anchor.set(.5,.5),this._text.position.set(n.x,n.y),this.textoffset=n,this.container.addChild(this._text)}}},{key:"setVisiable",value:function(e){this.container.visible=e}},{key:"setEnabled",value:function(e){this._sprite.interactive=e;var t=e?1:.5;this._sprite.alpha=t,this._childsprite&&(this._childsprite.alpha=t)}},{key:"isBtnAble",value:function(){return this.container.visible&&this._sprite.interactive}},{key:"setScale",value:function(e){this._sprite.scale.set(e,e),this._childsprite&&this._childsprite.scale.set(e,e)}},{key:"setPosition",value:function(e,t){this.container.position.set(e,t)}},{key:"getPosition",value:function(){return this.container.position}},{key:"setTxtext",value:function(e){this._text&&(this._text.text=e)}},{key:"setTxtextColor",value:function(e){this._text&&(this._text.style.fill=e)}},{key:"setSpTexture",value:function(e){this._sprite.texture=e}},{key:"onClicked",value:function(e){this._onClick=e}},{key:"handleOnPointerDown",value:function(){this._onClick&&this._onClick(this.buttonname)}},{key:"destory",value:function(){this.container.removeFromParent()}}])}()},20877:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Define=t.DefaultLanguage=void 0;t.Define={NeedDefaultWheel:!1,NeedDefaultWinUi:!0,NonOperableTime:3e3},t.DefaultLanguage={roulette_ui_1:"CLEAR",roulette_ui_4:"UNDO",roulette_ui_5:"DOUBLE",roulette_ui_8:"SPIN",roulette_ui_10:"NEXT SPIN",roulette_ui_11:"CANCEL",common_label_congratulations:"Congratulations"}},24191:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var n=i(85072),a=i.n(n),s=i(97825),o=i.n(s),r=i(77659),l=i.n(r),u=i(55056),h=i.n(u),c=i(10540),d=i.n(c),f=i(41113),g=i.n(f),p=i(76452),v=i.n(p),m={};for(const e in p)"default"!==e&&(m[e]=()=>p[e]);i.d(t,m);var b={};b.styleTagTransform=g(),b.setAttributes=h(),b.insert=l().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=d();a()(v(),b);const y=v()&&v().locals?v().locals:void 0},25417:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(82942)),s=n(i(18408)),o=i(20877);t.default=function(){return(0,s.default)(function e(){(0,a.default)(this,e),this.languagemap={}},[{key:"setLanguage",value:function(e){this.languagemap=e}},{key:"setMapValue",value:function(e,t){this.languagemap[e]=t}},{key:"getLanguage",value:function(e){var t=this.languagemap[e];return null==t&&(t=o.DefaultLanguage[e]),t}}])}()},27104:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(2971));i(64202),i(45109),i(47936);var s=n(i(50936)),o=n(i(82942)),r=n(i(18408)),l=n(i(64728)),u=i(22965),h=t.default=function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,null,[{key:"resetSeed",value:function(){e._seed=5}},{key:"_nextRandomNumber",value:function(){return e._seed=(1314*e._seed+2356)%9527,e._seed/9527}},{key:"limitRandom",value:function(t,i){var n=t+e._nextRandomNumber()*(i-t);return Math.floor(1e4*n)/1e4}},{key:"delayTime",value:(t=(0,s.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"waitWinAniCountTime",value:function(e,t){if(e<=0)return.1;var i=1;return e>=5*t?i+=2:e>t&&(i+=e/t*.4),i}},{key:"createrTxt",value:function(e,t,i,n){var a=n?"bold":"normal",s=new u.Text(e,{fill:i,fontFamily:"swipegamefont",fontWeight:a,fontSize:t,lineJoin:"round",align:"center"});return s.anchor.set(.5,.5),s}},{key:"createrTxtStyle",value:function(e,t,i){i.fontSize=t;var n=new u.Text(e,i);return n.anchor.set(.5,.5),n}}]);var t}();(0,l.default)(h,"_seed",Math.floor(100*Math.random()))},27409:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(2971)),s=n(i(50936)),o=n(i(82942)),r=n(i(18408)),l=n(i(64728)),u=n(i(28001)),h=(n(i(52545)),n(i(93114))),c=n(i(18640)),d=n(i(27104)),f=i(20877),g=i(84854),p=t.default=function(){function e(){(0,o.default)(this,e),this.nextResultTime=0,this.roundResultNumber=-1,this.roundTotalWin=0,this.gameModuleInfoInit=!1,this.crashInfoInit=!1,this.nonOperable=!1,this.mainboard=null,this.uiRoot=null,this.gameVedioWheel=null,this.uiWinAni=null}return(0,r.default)(e,[{key:"registerUiRootAndMainboard",value:function(e,t){if(this.mainboard=e,this.uiRoot=t,this.gameVedioWheel=new h.default(t),void 0!==this.uiRoot.sortableChildren&&(this.uiRoot.sortableChildren=!0),this.uiRoot.sortChildren&&this.uiRoot.sortChildren(),f.Define.NeedDefaultWinUi){this.uiWinAni=new c.default(t);var i=f.Define.NeedDefaultWheel?g.RouletteCfg.WheelDefaultY-320:0;this.uiWinAni.initWinAniPosi(0,i)}}},{key:"update",value:function(e){this.uiWinAni&&this.uiWinAni.update(e)}},{key:"getResultTime",value:function(){return this.nextResultTime}},{key:"getRoundResultNumber",value:function(){return this.roundResultNumber}},{key:"getRoundWin",value:function(){return this.roundTotalWin}},{key:"isUerOperable",value:function(){return!this.nonOperable}},{key:"onGameModuleInfo",value:function(e){if(e&&"gamemoduleinfo"==e.msgid){var t=e.gmi.replyPlay.results[0];this.roundResultNumber=t.clientData.curGameModParam.winningNumber,this.roundTotalWin=e.gmi.totalwin,u.default.getInstance().collectInfo()}}},{key:"spinBtnAction",value:function(){this.mainboard.lockMenuBtnButSpin(!0),this.mainboard.refreshSpinBtnState(!1),u.default.getInstance().sendSpinReq(),u.default.getInstance().calculateBalanceUi(!0)}},{key:"playResultVideo",value:function(e){this.uiRoot.sortChildren&&this.uiRoot.sortChildren(),this.gameVedioWheel.playNumberVideo(e)}},{key:"wheelEffectStart",value:function(e){this.mainboard&&this.mainboard.changeMainboardAni(),this.gameVedioWheel&&this.playResultVideo(e)}},{key:"wheelEffectDone",value:(t=(0,s.default)(a.default.mark(function e(){var t,i,n,s,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.roundResultNumber,i=this.roundTotalWin,n=u.default.getInstance().getTotalBetNumber(),e.next=1,d.default.delayTime(200);case 1:if(!(i>0)){e.next=4;break}if(!this.uiWinAni){e.next=4;break}return this.uiWinAni.initResultNumber(t),e.next=2,d.default.delayTime(500);case 2:return s=d.default.waitWinAniCountTime(i,n),this.uiWinAni.initCoinWin(i,n,s),o=1e3*(s+.2)+1e3,e.next=3,d.default.delayTime(o);case 3:this.uiWinAni.clearCoinWin();case 4:return this.mainboard.resetCameraPosi(),this.mainboard.refreshResultTip(t),u.default.getInstance().refreshWinUi(i),u.default.getInstance().refreshBalanceUi(),e.next=5,d.default.delayTime(200);case 5:this.nonOperable=!1,this.mainboard.endResetState();case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}],[{key:"getInstance",value:function(){return null==e._instance&&(e._instance=new e),e._instance}}]);var t}();(0,l.default)(p,"_instance",null)},28001:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(52175),i(64202),i(32580),i(18700),i(35185);var a=n(i(64728)),s=n(i(82942)),o=n(i(18408)),r=n(i(25417)),l=n(i(27409)),u=i(95537),h=function(){return(0,o.default)(function e(t,i,n,a){(0,s.default)(this,e),this.hittag=t,this.numbers=i,this.amount=n,this.circlebet=a},[{key:"getIsCircleBet",value:function(){return this.circlebet}},{key:"getHitTag",value:function(){return this.hittag}}])}(),c="Hit",d="Double",f=t.default=function(){function e(){(0,s.default)(this,e),this._cid=0,this.betresults=[],this.betList=[],this.betvalues=[{color:"rgrayse.png",value:10,index:0}],this.hitaction=[],this.selectChip=this.betvalues[0],this.baseChipValue=this.selectChip.value,this.selectChipValue=this.selectChip.value,this.mainboard=null,this.m_eventEmitter=null,this.m_getBalanceFunc=null,this.m_openModalDialogFunc=null,this.m_formatMoneyFunc=null,this.m_formatChipMoneyFunc=null,this.collectBalance=0,this.gamecfginit=!1,this.gamemenuopen=!1,this.languagemgr=new r.default}return(0,o.default)(e,[{key:"registerEventEmitter",value:function(e,t,i){this.m_eventEmitter=e,this.m_getBalanceFunc=t,this.m_openModalDialogFunc=i,this.registerServerEvents()}},{key:"registerServerEvents",value:function(){this.m_eventEmitter.addListener("updata-gamecfg",this.OnGameCfg.bind(this)),this.m_eventEmitter.addListener("updata-bet",this.OnUpdateBet.bind(this)),this.m_eventEmitter.addListener("updata-slotmessage",this.OnSpinRet.bind(this)),this.m_eventEmitter.addListener("updata-collectinfo",this.OnCollectInfo.bind(this)),this.m_eventEmitter.addListener("updata-music",this.OnMusicInfo.bind(this)),this.m_eventEmitter.addListener("updata-menu",this.OnMenuInfo.bind(this)),this.m_eventEmitter.addListener("updata-translation",this.OnTranslation.bind(this))}},{key:"OnGameCfg",value:function(e){if(console.log("Server:OnGameCfg",e),this.gamecfginit=!0,e.status&&e.status.gamecfg&&e.status.gamecfg.linebets){var t=e.status.gamecfg.linebets,i=Math.min(t.length,5),n=["rgrayse.png","rgreen.png","rlanse.png","rhongse.png","rhuangse.png"];this.betvalues=[];for(var a=0;a<i;a++){var s={};s.color=n[a],s.value=t[a],s.index=a,this.betvalues.push(s)}}this.selectChip=this.betvalues[0],this.baseChipValue=this.selectChip.value,this.selectChipValue=this.selectChip.value,this.m_formatMoneyFunc=e.setMoneys,this.m_formatChipMoneyFunc=e.setMoneyInt}},{key:"OnUpdateBet",value:function(e){}},{key:"OnSpinRet",value:function(e){l.default.getInstance().onGameModuleInfo(e)}},{key:"initHistoryFromServ",value:function(e){var t=Math.max(0,e.length-1-u.ResultMaxLen);this.betresults=e.splice(t)}},{key:"handleResultRecords",value:function(e){this.betresults.push(e),this.betresults.length>u.ResultMaxLen&&this.betresults.shift()}},{key:"OnCollectInfo",value:function(e){e&&null!=e.gold&&(this.collectBalance=e.gold)}},{key:"OnMusicInfo",value:function(e){}},{key:"OnMenuInfo",value:function(e){this.gamemenuopen=1==e}},{key:"OnTranslation",value:function(e){this.languagemgr.setLanguage(e)}},{key:"getLanguage",value:function(e){return this.languagemgr.getLanguage(e)}},{key:"registerBoard",value:function(e){this.mainboard=e}},{key:"collectInfo",value:function(){this.m_eventEmitter.emit("collectinfo",1)}},{key:"sendSpinReq",value:function(){var e={},t=this.getTotalBetNumber(),i=this.mergeBetForSpinReq();e.gamecode="roulette",e.command="placebet",e.allbet=t,e.places={bets:i},this.m_eventEmitter.emit("spin",e)}},{key:"sendCancelSpinReq",value:function(){var e={},t=this.getTotalBetNumber();e.gamecode="roulette",e.command="cancelbet",e.allbet=t,this.m_eventEmitter.emit("spin",e)}},{key:"mergeBetForSpinReq",value:function(){for(var e=[],t=[],i=this.betList.length,n=0;n<i;n++){var a=this.betList[n],s=a.amount,o=a.getHitTag(),r=e.indexOf(o);if(-1==r){var l={amount:s,numbers:a.numbers};e.push(o),t.push(l)}else{t[r].amount+=s}}return t}},{key:"setSelectChipAmount",value:function(e){for(var t=this.betvalues.length,i=0;i<t;i++){var n=this.betvalues[i];if(e==n.value)return this.selectChipValue=e,void(this.selectChip=n)}}},{key:"getSelectChipObj",value:function(e){for(var t=this.betvalues.length,i=0;i<t;i++){var n=this.betvalues[i];if(e==n.value)return n}return null}},{key:"getMaxChipObj",value:function(e){for(var t=this.betvalues.length-1;t>=0;t--){var i=this.betvalues[t];if(e>=i.value)return i}return null}},{key:"getHistoryResults",value:function(){return this.betresults}},{key:"getMainBoard",value:function(){return this.mainboard}},{key:"getChipLst",value:function(){return this.betvalues}},{key:"HasEnoughMoney",value:function(e){return!!this.m_getBalanceFunc&&this.m_getBalanceFunc()>=e}},{key:"checkMaxLimits",value:function(e,t){var i=this.baseChipValue,n=this.getHitTotalBetNumber(e);if(-1!=e.indexOf("Single")){var a=e.replace(/[^\d]/g,""),s=parseInt(a);if(s>=0&&s<=36)return 2500*i>=n+t;if(s>=37&&s<=39)return 3e4*i>=n+t;if(s>=40&&s<=42)return 3e4*i>=n+t;if(s>=43&&s<=48)return 5e4*i>=n+t}return-1!=e.indexOf("Split")?5e3*i>=n+t:-1!=e.indexOf("Street")?7500*i>=n+t:-1!=e.indexOf("Corner")?1e3*i>=n+t:-1==e.indexOf("Six")||15e3*i>=n+t}},{key:"hitBet",value:function(e,t){if(!this.gamecfginit)return null;var i=this.getTotalBetNumber(),n=this.selectChip.value;if(!this.HasEnoughMoney(i+n))return this.noEnoughMoney(),null;if(!this.checkMaxLimits(e,n))return this.maxTotalBet(),null;this._cid++;var a=new h(e,t,n,!1);return this.betList.push(a),this.hitaction.push(c),this.refreshBetUi(),a}},{key:"doubleCurHit",value:function(){var e=this.getTotalBetNumber();if(!this.HasEnoughMoney(2*e))return this.noEnoughMoney(),null;for(var t=[],i=this.betList.length,n=0;n<i;n++){var a=this.betList[n],s=a.getHitTag(),o=a.numbers,r=a.amount,l=a.circlebet;this._cid++;var u=new h(s,o,r,l);this.betList.push(u),t.push(u)}for(var c=this.betList.length,f=t.length,g=0;g<f;g++){var p=t[g].getHitTag();if(!this.checkMaxLimits(p,0))return this.betList.splice(c-f),this.maxTotalBet(),null}return this.hitaction.push(d),this.refreshBetUi(),t}},{key:"betInfoEnmpty",value:function(){return this.betList.length<=0}},{key:"spinCheckEnoughMoney",value:function(){var e=this.getTotalBetNumber();return!!this.HasEnoughMoney(e)||(this.noEnoughMoney(),!1)}},{key:"getBetLsts",value:function(){return this.betList}},{key:"clearBetList",value:function(){this.betList=[],this.hitaction=[],this.refreshBetUi()}},{key:"undoHitBet",value:function(){if(this.hitaction.length<=0||this.betList.length<=0)return null;var e=this.hitaction.pop(),t=this.betList.length;if(e==c){var i=this.betList.splice(t-1);return this.refreshBetUi(),i}if(e==d){var n=Math.floor(t/2),a=this.betList.splice(n);return this.refreshBetUi(),a}return null}},{key:"endReset",value:function(){this._cid=0,this.betList.length=0}},{key:"refreshBetUi",value:function(e){if(null==e){var t=this.getTotalBetNumber();this.m_eventEmitter.emit("updata-bet",t)}else this.m_eventEmitter.emit("updata-bet",e)}},{key:"getCurBetAmount",value:function(){for(var e=this.betList.length,t=0,i=0;i<e;i++){t+=this.betList[i].amount}return t}},{key:"calculateBalanceUi",value:function(e){if(this.m_getBalanceFunc){var t=this.m_getBalanceFunc(),i=this.getCurBetAmount(),n=e?t-i:t+i;this.m_eventEmitter.emit("updata-balance",n)}}},{key:"refreshBalanceUi",value:function(){this.collectBalance&&this.m_eventEmitter.emit("updata-balance",this.collectBalance)}},{key:"refreshWinUi",value:function(e){this.m_eventEmitter.emit("updata-win",e)}},{key:"getTotalBetNumber",value:function(){for(var e=0,t=this.betList.length,i=0;i<t;i++){e+=this.betList[i].amount}return e}},{key:"getHitTotalBetNumber",value:function(e){for(var t=0,i=this.betList.length,n=0;n<i;n++){var a=this.betList[n];a.getHitTag()==e&&(t+=a.amount)}return t}},{key:"formatMoney",value:function(e,t){return null==t&&(t=!0),this.m_formatMoneyFunc?this.m_formatMoneyFunc(e,t):e.toString()}},{key:"formatChipMoney",value:function(e){return this.m_formatChipMoneyFunc(e)}},{key:"maxTotalBet",value:function(){this.openModalDialog({errorCode:"MAX-TOTAL-BET",type:0,gameid:"roulette",message:"Exceed the maximum betting amount."})}},{key:"noEnoughMoney",value:function(){this.openModalDialog({errorCode:"000107",type:0,gameid:"roulette"})}},{key:"openModalDialog",value:function(e){this.m_openModalDialogFunc&&this.m_openModalDialogFunc(e)}}],[{key:"getInstance",value:function(){return null==e._instance&&(e._instance=new e),e._instance}}])}();(0,a.default)(f,"_instance",null)},42634:()=>{},43125:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(27231),i(7455),i(45503),i(64202),i(32580),i(18700),i(50709),i(35185);var a=n(i(64728)),s=n(i(59844)),o=n(i(82942)),r=n(i(18408)),l=i(65948);t.default=function(){return(0,r.default)(function e(t){(0,o.default)(this,e),this.currency=t,this.lang=l.urlQuery.lang,this.symbol="€",this.decimalDigits=2,this.init(),this.setMoneys=this.setMoneys.bind(this),this.setMoneyInt=this.setMoneyInt.bind(this)},[{key:"init",value:function(){this.setCurrency(),this.precision(),this.config=this.getLang()}},{key:"setMoneyInt",value:function(e){return(e/=100)>=1e3?e%1e3==0?Math.floor(e/1e3)+"k":Math.floor(e/1e3)+"K":e}},{key:"setMoneys",value:function(e,t){e/=100;var i=this.config.format||"auto",n=this.decimalDigits,a=this.config.decimal||".",o=this.config.thousand||",";if("number"!=typeof e||isNaN(e))return"";var r,l=e<0,u=Math.abs(e),h=u.toFixed(n).split("."),c=(0,s.default)(h,2),d=c[0],f=c[1],g=[d=d.replace(/\B(?=(\d{3})+(?!\d))/g,o),n>0?a:"",n>0?f:""].join("").replace(/\.$/,"");if("after"===i)r=t?"".concat(g).concat(this.symbol):g;else r=t?"".concat(this.symbol).concat(g):g;return"".concat(l?"-":"").concat(r)}},{key:"setCurrency",value:function(){var e;this.symbol=(e={CNY:"¥",RMB:"¥",JPY:"¥",ARS:"$",AUD:"$",BND:"$",CAD:"$",CLP:"$",COP:"$",HKD:"$",MXN:"$",NZD:"$",TTD:"$",USD:"$",HRK:"kn",CZK:"Kč",DKK:"kr",SEK:"kr",ISK:"kr",NOK:"kr",EUR:"€",GBP:"£",HUF:"Ft",IDR:"Rp",KHR:"៛",KRW:"₩",MYR:"RM",PLN:"zł",BRL:"R$",RON:"RON",RUB:"руб",THB:"฿",VND:"₫",TRY:"TL",UAH:"₴"},(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)(e,"VND","₫"),"FUN","FUN"),"GC.","GC."),"SC.","SC."),"AED","د.إ"),"ALL","Lek"),"AMD","֏"),"AZN","ман"),"BAM","KM"),"BDT","৳"),(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)(e,"BGN","лв"),"BOB","$b"),"BYN","Br"),"CDF","FC"),"CHF","CHF"),"DOP","RD$"),"GEL","ლ"),"GHS","₵"),"HTG","G"),"ILS","₪"),(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)(e,"INR","Rs"),"IQD","د.ع"),"IRR","﷼"),"KES","KSh"),"KGS","лв"),"KZT","₸"),"LAK","₭"),"LKR","₨"),"MAD","DH"),"MDL","L"),(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)(e,"MKD","ден"),"MMK","K"),"MNT","₮"),"MVR","Rf"),"NGN","₦"),"NPR","₨"),"PEN","S/."),"PHP","₱"),"PKR","₨"),"PYG","Gs"),(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)(e,"RSD","Дин."),"RON","RON"),"RSD","Дин."),"RWF","FRw"),"SAR","﷼"),"SGD","S$"),"SZL","E"),"TJS","ЅМ"),"TMT","T"),"TND","د.ت"),(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)(e,"TWD","NT$"),"TZS","TSh"),"UGX","USh"),"UYU","$U"),"UZS","лв"),"XAF","FCFA"),"XOF","₣"),"ZAR","R"),"ZMW","K"))[this.currency]||"€"}},{key:"getLang",value:function(){var e={thousand:",",format:"before",decimal:"."};return this.isInArray(["da-DK","nl_BE","nl_NL","hu-HU","id-ID","it-IT","pt-BR"],this.lang)?(e.thousand=".",e.decimal=","):this.isInArray(["hr-HR","de-DE","el-GR","el-CY","km-KH","pt-PT","ro-RO","tr-TR","vi-VN"],this.lang)?(e.thousand=".",e.format="after",e.decimal=","):this.isInArray(["cs-CZ","et-EE","fi-FI","fr-FR","fr-BE","lv-LV","lt-LT","pl-PL","ru-RU","sk-SK","es-ES","es-MX","es-CO","sv-SE","uk-UA"],this.lang)&&(e.thousand=" ",e.format="after",e.decimal=","),e}},{key:"precision",value:function(){this.decimalDigits=(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)({BIF:0,JPY:0,CLP:0,KHR:0,KRW:0,LBP:0,MGA:0,VND:0,PYG:0,XOF:0,IQD:0,MWK:0,KPW:0},"KPW",0),"SLL",0),"STD",0),"VEF",0),"TND",3)[this.currency]||2}},{key:"isInArray",value:function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}}])}()},44497:(e,t,i)=>{"use strict";i(28098),i(3557),i(3090),i(25521),i(11783),i(73111);var n=i(88569);i(27231),i(61870),i(87933),i(4998),i(64202),i(45109),i(50152),i(65535),i(28070);var a=n(i(82942)),s=n(i(18408)),o=n(i(64728)),r=i(51236),l=i(65948),u=n(i(84293)),h=n(i(45411)),c=n(i(43125)),d=n(i(73646));function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}i(24191),new(function(){return(0,s.default)(function e(){var t=this;(0,a.default)(this,e),(0,o.default)(this,"resize",function(){var e=1920,i=1280,n=t.getViewport(),a=Math.min(Math.max(n.x,n.y)/e,Math.min(n.y,n.x)/i);document.body.style.fontSize=a+"em";var s,o,r=document.getElementById("game-container"),l=window.innerWidth;s=.5625*(o=window.innerHeight)>l?l:.5625*o,r.style.width="".concat(Math.ceil(s),"px"),r.style.height="".concat(Math.ceil(o),"px"),window.matchMedia("(orientation: landscape)").matches||l<768&&(document.getElementsByTagName("body")[0].style.fontSize="0.58em")}),(0,o.default)(this,"setupOrientationListeners",function(){window.screen.orientation?window.screen.orientation.addEventListener("change",t.detectOrientation):void 0!==window.orientation?window.addEventListener("orientationchange",t.detectOrientation):window.addEventListener("resize",t.detectOrientation)}),(0,o.default)(this,"detectOrientation",function(){if(window.screen.orientation?t.currentOrientation=window.screen.orientation.type.includes("portrait")?"portrait":"landscape":void 0!==window.orientation?t.currentOrientation=90===Math.abs(window.orientation)?"landscape":"portrait":t.currentOrientation=window.innerHeight>window.innerWidth?"portrait":"landscape","portrait"===t.currentOrientation)document.getElementById("game-landscape")&&document.getElementById("game-landscape").remove();else{var e,i=document.getElementById("game-container");document.getElementById("game-landscape")||((e=document.createElement("div")).id="game-landscape",i.appendChild(e));e.innerHTML='<div class="game-landscape-content">\n                <div class="game-landscape-content-img"></div>\n            </div>'}}),(0,o.default)(this,"setProgress",function(e){t.gameProgress=parseInt(e);var i=.8*t.gameProgress+.2*t.videoProgress,n=Math.max(0,100-i)+"%";t.changeState({progress:n}),document.getElementById("leo-content2")&&(document.getElementById("leo-content2").style.clipPath="inset(0 ".concat(t.state.progress," 0 0)"),document.getElementById("leo-content2").style.webkitClipPath="inset(0 ".concat(t.state.progress," 0 0)")),t.checkLoadingComplete()}),(0,o.default)(this,"openModalDialog",function(){}),(0,o.default)(this,"closeModalDialog",function(){}),this.changeState({gameid:l.urlQuery.gameCode||"roulette"});var i="https:"===window.location.protocol?"wss:":"ws:";this.customServerUrl="".concat(i,"//").concat(window.location.host),this.dispatchEvent=new h.default,this.gameProgress=0,this.videoProgress=0,this.videoReady=!1,this.resize(),this.init(),window.addEventListener("resize",this.resize.bind(this)),window.addEventListener("visibilitychange",this.visibilityChange.bind(this)),(0,l.isMobile)()&&(this.setupOrientationListeners(),this.detectOrientation())},[{key:"init",value:function(){var e=this;this.gameloading(),this.preloadBackgroundVideo();var t=new(i(6445)("./".concat(this.state.gameid,".js")).Roulette)({Event:this.dispatchEvent,progress:this.setProgress.bind(this),getBalance:this.getBalance.bind(this),openModalDialog:this.openModalDialog.bind(this),closeModalDialog:this.closeModalDialog.bind(this)});this.changeState({gameClient:t});var n={};if(n=(0,l.StorageDataGet)(this.state.gameid)?(0,l.StorageDataGet)(this.state.gameid):{sound:!0,bet:1},this.changeState({settings:n}),!l.urlQuery.configUrl){var a=new Promise(function(t,i){(0,l.fetchGet)("../lang/en-GB.json").then(function(i){e.changeState({translation:i}),t()})}),s=new Promise(function(t,i){var n=new u.default("".concat(e.customServerUrl),e.state.gameid);n.servLoadOk().then(function(){e.changeState({servCfg:n}),t()})});Promise.all([a,s]).then(function(){e.formatCurrency=new c.default(e.state.servCfg.status.userbaseinfo.userbaseinfo.currency);var t={setMoneys:e.formatCurrency.setMoneys,setMoneyInt:e.formatCurrency.setMoneyInt,autoplayDisable:e.state.gameCfg.autoplayDisable||!1,realityCheck:e.state.gameCfg.realityCheck||!1,isPT:"PT"===l.urlQuery.jurisdiction,disableNearwin:"PT"===l.urlQuery.jurisdiction};e.changeState({servCfg:Object.assign(e.state.servCfg,t)}),e.changeState({balance:e.state.servCfg.status.userbaseinfo.userbaseinfo.gold}),e.dispatchEvent.emit("updata-gamecfg",function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach(function(t){(0,o.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},e.state.servCfg)),new d.default({Event:e.dispatchEvent,state:e.state,changeState:e.changeState.bind(e)})})}}},{key:"visibilityChange",value:function(){document.visibilityState}},{key:"gameloading",value:function(){document.getElementById("loading")&&document.getElementById("loading").remove();var e=document.createElement("div");e.id="loading",document.getElementById("game-container").appendChild(e);var t=document.createElement("div");e.appendChild(t),t.id="loadingdiv";t.innerHTML='<div class="leo-gameloading-content">\n                    <div class="leo-gameloading-title">loading</div>\n                    <div class="leo-gameloading-content1" style="z-index:1"></div>\n                     <div class="leo-gameloading-content2" id="leo-content2" style="z-index:2"></div>\n        </div>'}},{key:"getViewport",value:function(){return{x:window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,y:window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight}}},{key:"changeState",value:function(e){r.stateManager.setState(e),this.state=r.stateManager.getState()}},{key:"getBalance",value:function(){return this.state.balance}},{key:"preloadBackgroundVideo",value:function(){var e=this,t=document.createElement("video");t.src="assets/videos/background.mp4",t.preload="auto",t.muted=!0,t.loop=!0,t.playsInline=!0,t.setAttribute("playsinline","true"),t.setAttribute("webkit-playsinline","true"),t.style.display="none",t.crossOrigin="anonymous",window.preloadedBackgroundVideo=t,window.backgroundVideoReadyPromise=new Promise(function(i){var n=!1,a=function(){n||(n=!0,e.videoProgress=100,e.videoReady=!0,e.checkLoadingComplete(),i(!0))};t.addEventListener("canplaythrough",a),t.addEventListener("loadeddata",function(){t.readyState>=2&&a()}),setTimeout(function(){n||(n=!0,e.videoProgress=100,e.videoReady=!0,e.checkLoadingComplete(),i(!0))},500)}),t.addEventListener("error",function(t){e.videoProgress=100,e.videoReady=!1,e.checkLoadingComplete()}),document.body.appendChild(t)}},{key:"checkLoadingComplete",value:function(){this.gameProgress>=100&&setTimeout(function(){var e=document.getElementById("loading");e&&!e.classList.contains("hiding")&&(e.classList.add("hiding"),e.style.opacity="0",e.style.transition="opacity 0.3s ease-out",setTimeout(function(){e&&e.parentNode&&e.remove()},300))},0)}}])}())},44741:(e,t,i)=>{"use strict";var n=i(88569),a=n(i(2971)),s=n(i(50936)),o=n(i(82942)),r=n(i(18408)),l=i(22965),u=n(i(14662)),h=function(){return(0,r.default)(function e(t){(0,o.default)(this,e),this.m_eventEmitter=t.Event,this.setProgress=t.progress,this.getBalance=t.getBalance,this.openModalDialog=t.openModalDialog,this.InitGame()},[{key:"InitGame",value:(e=(0,s.default)(a.default.mark(function e(){var t,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new l.Application({backgroundColor:933159,width:document.getElementById("game-container").offsetWidth,height:document.getElementById("game-container").offsetHeight,autoDensity:!0,resolution:window.devicePixelRatio,resizeTo:document.getElementById("game-container"),antialias:!0})).view.id="roulette",document.getElementById("game-container").appendChild(t.view),this.app=t,(i=new u.default).inittable(t,this.m_eventEmitter,this.setProgress,this.getBalance,this.openModalDialog),e.next=1,i.loadGameAssets();case 1:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]);var e}();e.exports={Roulette:h}},45411:(e,t,i)=>{"use strict";i(28098),i(97234),i(21724),i(56903),i(87933),i(56345),i(32580),i(18700),i(65535),i(28070);var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(3557),i(64845),i(64202);var a=n(i(18408)),s=n(i(82942)),o=n(i(64728));function r(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return l(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){r=!0,s=e},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw s}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}t.default=(0,a.default)(function e(){var t=this;(0,s.default)(this,e),(0,o.default)(this,"addListener",function(e,i){if("function"!=typeof i)throw new TypeError("Listener must be a function");return t._events[e]||(t._events[e]=[]),t._events[e].push(i),t}),(0,o.default)(this,"off",function(e,i){return t._events[e]?i?(t._events[e]=t._events[e].filter(function(e){return e!==i&&e.origListener!==i}),0===t._events[e].length&&delete t._events[e],t):(delete t._events[e],t):t}),(0,o.default)(this,"emit",function(e){var i=t._events[e];if(i){for(var n=i.slice(),a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];var l,u=r(n);try{for(u.s();!(l=u.n()).done;){l.value.apply(t,s)}}catch(e){u.e(e)}finally{u.f()}}else if("error"===e)throw new Error("Unhandled error event");return t}),(0,o.default)(this,"once",function(e,i){if("function"!=typeof i)throw new TypeError("Listener must be a function");var n=function(){t.off(e,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];i.apply(t,s)};return n.origListener=i,t.addListener(e,n)}),this._events=Object.create(null)})},47001:(e,t,i)=>{"use strict";i(1242);var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(82942)),s=n(i(18408)),o=n(i(16759)),r=n(i(39165)),l=n(i(85878)),u=n(i(64728)),h=i(22965);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}t.default=function(e){function t(e,i,n,s,l){var h,d,f,g;return(0,a.default)(this,t),d=this,f=t,g=[e,i],f=(0,r.default)(f),h=(0,o.default)(d,c()?Reflect.construct(f,g||[],(0,r.default)(d).constructor):f.apply(d,g)),(0,u.default)(h,"m_initialFontSize",10),(0,u.default)(h,"m_minFontSize",10),(0,u.default)(h,"m_maxTextWidth",0),(0,u.default)(h,"m_maxTextHeight",0),h.m_initialFontSize=i?i.fontSize:10,h.m_minFontSize=n||10,h.m_maxTextWidth=s||h.width,h.m_maxTextHeight=l||h.height,h.CalculateFontSize(),h}return(0,l.default)(t,e),(0,s.default)(t,[{key:"SetText",value:function(e){this.text=e,this.CalculateFontSize()}},{key:"CalculateFontSize",value:function(){for(this.style.fontSize=this.m_initialFontSize;(this.width>this.m_maxTextWidth||this.height>this.m_maxTextHeight)&&this.style.fontSize>this.m_minFontSize;)this.style.fontSize--}}])}(h.Text)},47550:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(82942)),s=n(i(18408));t.default=function(){return(0,s.default)(function e(){(0,a.default)(this,e)},null,[{key:"resetPositions",value:function(e,t,i,n){var a=t.x,s=t.y,o=n.length,r=o%2==0?Math.floor(o/2)-.5:Math.floor(o/2);if(1!=e)if(2!=e);else for(var l=0;l<o;l++){n[l].setPosition(a,s+(l-r)*i)}else for(var u=0;u<o;u++){n[u].setPosition(a+(u-r)*i,s)}}}])}()},51236:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateManager=void 0,i(3557),i(4998),i(64202),i(73111);t.stateManager={state:{gameid:"",bet:1,gameClient:{},balance:0,translation:{},servCfg:{},isShowTab:!1,progress:"0%",gameCfg:{},settings:{bet:1,sound:!0}},listeners:[],subscribe:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter(function(t){return t!==e})}},setState:function(e){var t=this;Object.assign(this.state,e),this.listeners.forEach(function(e){return e(t.state)})},getState:function(){return this.state}}},52545:(e,t,i)=>{"use strict";i(1242);var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(2971));i(87933),i(46250),i(64202),i(65535),i(47936),i(28070);var s=n(i(50936)),o=n(i(16759)),r=n(i(39165)),l=n(i(85878)),u=n(i(82942)),h=n(i(18408)),c=i(22965),d=i(84854),f=i(12757),g=n(i(27104)),p=n(i(27409));function v(e,t,i){return t=(0,r.default)(t),(0,o.default)(e,m()?Reflect.construct(t,i||[],(0,r.default)(e).constructor):t.apply(e,i))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}var b=420,y=1/37*2*Math.PI,k=2*Math.PI*60,w=1,C=2,S=3,M=4,x=5,T="zero",B="one",A="two",R="three",_=function(){return(0,h.default)(function e(){(0,u.default)(this,e),this.states=new Map,this.currentState=null,this.curstateindex=-1},[{key:"addState",value:function(e){var t=e.statename;t&&this.states.set(t,e)}},{key:"transition",value:function(e){var t=this.states.get(e);t&&this.currentState&&this.currentState.exitState(),t&&(t.enterState(),this.currentState=t)}},{key:"update",value:function(e){this.currentState&&this.currentState.update(e)}}])}(),P=function(){return(0,h.default)(function e(t,i){(0,u.default)(this,e),this.statemgr=t,this.wheel=i,this.statename=T},[{key:"enterState",value:function(){}},{key:"update",value:function(e){}},{key:"exitState",value:function(){}},{key:"disclosecheck",value:function(e,t,i){return Math.abs(e-t)<=Math.abs(i)}}])}(),I=function(e){function t(e,i){var n;return(0,u.default)(this,t),(n=v(this,t,[e,i])).statename=B,n}return(0,l.default)(t,e),(0,h.default)(t,[{key:"enterState",value:function(){var e=(this.wheel.nearColloision(this.wheel.balltargetAngle)-this.wheel.ballAngle)/this.wheel.ballAngularVelocity;this.wheel.intargetradius=400,this.wheel.inspeed=(this.wheel.intargetradius-this.wheel.rollradius)/e}},{key:"update",value:function(e){this.wheel.updateAngle(e),this.wheel.updateWheelAndBall(e);var t=this.wheel.inspeed*e;this.wheel.rollradius+=t,this.disclosecheck(this.wheel.rollradius,this.wheel.intargetradius,t)&&this.statemgr.transition(A)}}])}(P),E=function(e){function t(e,i){var n;return(0,u.default)(this,t),(n=v(this,t,[e,i])).statename=A,n}return(0,l.default)(t,e),(0,h.default)(t,[{key:"enterState",value:function(){this.canNumberCollision=!0,this.hasjump=!1;var e=g.default.limitRandom(0,1)<.5,t=this.wheel.wheelTimeToBall(),i=.8*t;if(i=Math.min(i,.5),e){this.hasjump=!0,this.canNumberCollision=!1;var n=this.wheel.ballAngularVelocity;this.wheel.scaleBallForJump(n,i)}var a=190*(.3*g.default.limitRandom(0,1)+.2);t<.45&&(a=225+50*g.default.limitRandom(-1,1)),this.defaultaction(i,a)}},{key:"defaultaction",value:function(e,t){this.wheel.ballAngularVelocity=.5*this.wheel.wheelAngularVelocity,this.wheel.intargetradius=t,this.wheel.inspeed=(this.wheel.intargetradius-this.wheel.rollradius)/e}},{key:"update",value:function(e){this.wheel.updateAngle(e),this.wheel.updateWheelAndBall(e);var t=this.wheel.inspeed*e;if(this.wheel.rollradius+=t,this.canNumberCollision&&this.wheel.rollradius<=350&&this.wheel.rollradius>=190&&this.checkNumberSlotCollision()){this.canNumberCollision=!1;var i=this.wheel.wheelTimeToBall();this.numberCollisionState(i)}this.disclosecheck(this.wheel.rollradius,this.wheel.intargetradius,t)&&this.statemgr.transition(R)}},{key:"numberCollisionState",value:function(e){var t=this.wheel.intargetradius;g.default.limitRandom(0,1)<.5&&(t=b);var i=.7*e;i=Math.min(i,.8),this.defaultaction(i,t)}},{key:"checkNumberSlotCollision",value:function(){var e=this.wheel.formatPiAngle(this.wheel.ballAngle),t=this.wheel.formatPiAngle(this.wheel.wheelAngle),i=Math.abs(e-t),n=this.wheel.formatPiAngle(i,y);return n>=.49*y&&n<=.51}}])}(P),H=function(e){function t(e,i){var n;return(0,u.default)(this,t),(n=v(this,t,[e,i])).statename=R,n}return(0,l.default)(t,e),(0,h.default)(t,[{key:"enterState",value:function(){this.wheel.intargetradius=225,this.wheel.inspeed=0,this.checkResuletState()}},{key:"update",value:function(e){this.wheel.updateAngle(e),this.wheel.updateWheelAndBall(e);var t=this.wheel.inspeed*e;this.wheel.rollradius+=t,this.disclosecheck(this.wheel.rollradius,this.wheel.intargetradius,t)&&(this.wheel.ballAngularVelocity=this.wheel.wheelAngularVelocity,this.statemgr.transition(T),this.wheel.spinresulted())}},{key:"checkResuletState",value:function(){var e=this.wheel.getAngleForNumber(this.wheel.resultNumber),t=this.wheel.formatPiAngle(this.wheel.ballAngle),i=this.wheel.formatPiAngle(this.wheel.wheelAngle),n=this.wheel.formatPiAngle(this.wheel.ballAngle+e);n<=i&&(n+=2*Math.PI),this.wheel.ballAngle=t,this.wheel.wheelAngle=i,this.wheel.wheeltargetAngle=n,this.wheel.ballAngularVelocity=0;var a=this.wheel.wheelAngularVelocity,s=(this.wheel.wheeltargetAngle-this.wheel.wheelAngle)/a;this.wheel.inspeed=(this.wheel.intargetradius-this.wheel.rollradius)/s}},{key:"defaultresult",value:function(){var e=this.wheel.intargetradius>this.wheel.rollradius?1:-1;this.wheel.inspeed=300*e}},{key:"delayCallBack",value:function(e){var t=this;setTimeout(function(){t.defaultresult()},1e3*e)}}])}(P);t.default=function(){return(0,h.default)(function e(t){(0,u.default)(this,e),this.root=t,this.initRoulette(),this.initWheel()},[{key:"initWheel",value:function(){this.container=new c.Container;var e=c.Sprite.from("wheelbg.png");e.anchor.set(.5,.5),e.position.set(0,0),this.container.addChild(e),this.wheel=c.Sprite.from("wheel.png"),this.wheel.anchor.set(.5,.5),this.wheel.position.set(0,-6),this.container.addChild(this.wheel),this.ball=c.Sprite.from("ball.png"),this.ball.anchor.set(.5,.5),this.ball.x=this.wheel.x+b*Math.sin(this.ballAngle),this.ball.y=this.wheel.y-b*Math.cos(this.ballAngle),this.ball.scale.set(.3),this.container.addChild(this.ball);var t=c.Sprite.from("wheeltop.png");t.anchor.set(.5,.5),t.position.set(0,0),this.container.addChild(t),this.container.position.set(0,d.RouletteCfg.WheelDefaultY-320),this.root.addChild(this.container),this.statemgr=new _;var i=new P(this.statemgr,this),n=new I(this.statemgr,this),a=new E(this.statemgr,this),s=new H(this.statemgr,this);this.statemgr.addState(i),this.statemgr.addState(n),this.statemgr.addState(a),this.statemgr.addState(s)}},{key:"initRoulette",value:function(){this.ballAngle=0,this.wheelAngle=0,this.wheeltargetAngle=0,this.balltargetAngle=0,this.state=w,this.resetWheel()}},{key:"resetWheel",value:function(){this.ballAngularVelocity=1,this.balldeceleration=1,this.wheelAngularVelocity=1,this.wheeldeceleration=1,this.wheeltargetAngle=0,this.balltargetAngle=0,this.inspeed=0,this.intargetradius=0,this.rollradius=b,this.resultNumber=-1}},{key:"spiningState",value:function(){this.balldeceleration=1,this.wheeldeceleration=1,this.state=S}},{key:"changeWheelIdle",value:function(){this.state=w}},{key:"startSpin",value:function(e){this.ballAngularVelocity=10,this.balldeceleration=1,this.wheelAngularVelocity=8,this.wheeldeceleration=.985,this.inspeed=0,this.intargetradius=0,this.rollradius=b,this.wheeltargetAngle=0,this.balltargetAngle=0,this.collisionCount=T,this.state=C,this.resultNumber=e}},{key:"spinresulted",value:(e=(0,s.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getAngleForNumber(this.resultNumber),this.ballAngle=this.wheelAngle-t,this.rollradius=225,this.state=x,this.inspeed=0,this.intargetradius=0,this.balldeceleration=1,this.wheeldeceleration=1,this.ballAngularVelocity=this.wheelAngularVelocity,this.resultNumber=-1,p.default.getInstance().wheelEffectDone();case 1:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"spinResult",value:function(){var e=this.resultNumber;this.balldeceleration=1,this.wheelAngle=this.formatPiAngle(this.wheelAngle),this.ballAngle=this.formatPiAngle(this.ballAngle);var t=this.getAngleForNumber(e);this.wheeltargetAngle=this.wheelAngle,this.balltargetAngle=this.wheeltargetAngle-t,this.balltargetAngle<=this.ballAngle&&(this.balltargetAngle+=2*Math.PI);var i=(this.balltargetAngle-this.ballAngle)/this.ballAngularVelocity+1,n=this.wheelAngularVelocity*i;this.wheeltargetAngle+=n,this.balltargetAngle+=n,this.state=M,this.statemgr.transition(B)}},{key:"wheelTimeToBall",value:function(){var e=this.formatPiAngle(this.wheelAngle),t=this.getAngleForNumber(this.resultNumber),i=this.formatPiAngle(this.ballAngle+t);return i<=e&&(i+=2*Math.PI),(i-e)/this.wheelAngularVelocity}},{key:"formatPiAngle",value:function(e,t){null==t&&(t=2*Math.PI);var i=e;if(i>0)for(var n=e;n>t;n-=t)i=n-t;else for(var a=e;a<0;a+=t)i=a+t;return this.fixNumber4(i)}},{key:"fixNumber4",value:function(e){return Math.floor(1e4*e)/1e4}},{key:"updateAngle",value:function(e){this.ballAngularVelocity-=(1-this.balldeceleration)*k*e,this.ballAngularVelocity=Math.max(this.ballAngularVelocity,0),this.ballAngle+=this.ballAngularVelocity*e,this.ballAngle=this.fixNumber4(this.ballAngle),this.wheelAngularVelocity-=(1-this.wheeldeceleration)*k*e,this.wheelAngularVelocity=Math.max(this.wheelAngularVelocity,1),this.wheelAngle+=this.wheelAngularVelocity*e,this.wheelAngle=this.fixNumber4(this.wheelAngle)}},{key:"updateWheelAndBall",value:function(e){this.ball.x=this.wheel.x+this.rollradius*Math.sin(this.ballAngle),this.ball.y=this.wheel.y-this.rollradius*Math.cos(this.ballAngle),this.wheel.rotation=this.wheelAngle}},{key:"update",value:function(e){if(this.state!=w)return this.state==S||this.state==x?(this.updateAngle(e),this.updateWheelAndBall(e),void(this.state==S&&-1!=this.resultNumber&&this.spinResult(this.resultNumber))):this.state==C?(this.updateAngle(e),this.updateWheelAndBall(e),void(this.wheelAngularVelocity<=1.2&&this.spiningState())):void(this.state!=M||this.statemgr.update(e))}},{key:"nearColloision",value:function(e){for(var t=2*Math.PI/8,i=0;;i++){var n=i*t+.3*t;if(e<n)return Math.abs(n-e)<.2*t?n+t:n}}},{key:"getAngleForNumber",value:function(e){var t=d.RouletteNumbers.indexOf(e);if(-1===t)throw new Error("number not found in RouletteNumbers");return-1*t*(2*Math.PI/37)}},{key:"scaleBallForJump",value:function(e,t){var i=.3,n=1+.5*e/2,a=.2+g.default.limitRandom(0,.6),s=f.Action.scaleTo(n*i,n*i,t*a),o=f.Action.scaleTo(.3,.3,t*(1-a)),r=f.Action.sequence([s,o]);this.ball.run(r)}}]);var e}()},55506:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(47936);var a=n(i(82942)),s=n(i(18408)),o=i(22965);t.default=function(){return(0,s.default)(function e(t){(0,a.default)(this,e),this.mainBoard=t,this.container=null,this.isVisible=!1,this.bgMusicToggle=null,this.gameSoundToggle=null,this.bgMusicMuted=!1,this.gameSoundMuted=!1,this.createPopup()},[{key:"createPopup",value:function(){var e=this;this.container=new o.Container,this.container.visible=!1,this.container.zIndex=1e4;var t=new o.Graphics;t.beginFill(0,.5),t.drawRect(-2e3,-2e3,4e3,4e3),t.endFill(),t.eventMode="static",t.on("pointerdown",function(){return e.hide()}),this.container.addChild(t);var i=500,n=new o.Graphics;n.beginFill(1710618,.95),n.lineStyle(2,16766720,1),n.drawRoundedRect(0,0,i,350,20),n.endFill();var a=new o.Graphics;a.beginFill(0,.3),a.drawRoundedRect(5,5,i,350,20),a.endFill(),this.container.addChild(a),this.container.addChild(n),this.popupWidth=i,this.popupHeight=350;var s=new o.TextStyle({fill:"#FFD700",fontFamily:"swipegamefont",fontWeight:"bold",fontSize:36}),r=new o.Text("🔊 Sound Settings",s);r.anchor.set(.5,0),r.position.set(250,25),this.container.addChild(r);var l=new o.Container;l.position.set(460,30),l.eventMode="static",l.cursor="pointer";var u=new o.Graphics;u.beginFill(16711680,.8),u.drawCircle(0,0,25),u.endFill(),l.addChild(u);var h=new o.TextStyle({fill:"#FFFFFF",fontFamily:"Arial",fontWeight:"bold",fontSize:32}),c=new o.Text("×",h);c.anchor.set(.5,.5),c.position.set(0,-2),l.addChild(c),l.on("pointerdown",function(){return e.hide()}),l.on("pointerover",function(){u.clear(),u.beginFill(16724787,1),u.drawCircle(0,0,25),u.endFill()}),l.on("pointerout",function(){u.clear(),u.beginFill(16711680,.8),u.drawCircle(0,0,25),u.endFill()}),this.container.addChild(l);var d=new o.Graphics;d.lineStyle(1,16766720,.3),d.moveTo(30,90),d.lineTo(470,90),this.container.addChild(d),this.createToggle("Background Music",150,function(t){e.bgMusicMuted=!t,e.mainBoard.updateBackgroundMusicState(e.bgMusicMuted)}),this.createToggle("Game Sounds",240,function(t){e.gameSoundMuted=!t,e.mainBoard.updateGameSoundState(e.gameSoundMuted)}),this.updatePosition()}},{key:"createToggle",value:function(e,t,i){var n=new o.TextStyle({fill:"#FFFFFF",fontFamily:"swipegamefont",fontSize:28}),a=new o.Text(e,n);a.anchor.set(0,.5),a.position.set(40,t),this.container.addChild(a);var s=new o.Container;s.position.set(370,t),s.eventMode="static",s.cursor="pointer";var r=!0,l=new o.Graphics,u=function(){l.clear(),l.beginFill(r?5025616:6710886),l.drawRoundedRect(0,-18,85,36,18),l.endFill()};u(),s.addChild(l);var h=new o.Graphics;h.clear(),h.beginFill(16777215),h.drawCircle(0,0,15),h.endFill(),h.x=r?68:17,s.addChild(h),s.on("pointerdown",function(){var e=(r=!r)?68:17,t=function(){var i=e-h.x;Math.abs(i)>.5?(h.x+=.3*i,requestAnimationFrame(t)):h.x=e};t(),u(),i(r)}),this.container.addChild(s),"Background Music"===e?this.bgMusicToggle={toggleBg:l,toggleKnob:h,isOn:r,updateState:u}:this.gameSoundToggle={toggleBg:l,toggleKnob:h,isOn:r,updateState:u}}},{key:"updatePosition",value:function(){var e=(window.innerWidth||1024)<=768?580:520;this.container.x=e-this.popupWidth-20;var t=1.85*this.popupHeight;this.container.y=-50-t}},{key:"show",value:function(){this.isVisible=!0,this.container.visible=!0,this.updatePosition()}},{key:"hide",value:function(){this.isVisible=!1,this.container.visible=!1}},{key:"toggle",value:function(){this.isVisible?this.hide():this.show()}},{key:"getContainer",value:function(){return this.container}},{key:"destroy",value:function(){this.container&&this.container.destroy()}}])}()},61464:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(56345);var a=n(i(2971)),s=n(i(50936)),o=n(i(82942)),r=n(i(18408));t.default=function(){return(0,r.default)(function e(){(0,o.default)(this,e),this.playlist=["assets/music/bgmusic1.mp3","assets/music/bgmusic2.mp3","assets/music/bgmusic3.mp3","assets/music/bgmusic4.mp3","assets/music/bgmusic5.mp3","assets/music/bgmusic6.mp3"],this.currentTrackIndex=0,this.audio=null,this.isMuted=!1,this.volume=.3,this.isInitialized=!1,this.hasUserInteracted=!1,console.log("[BG Music] Manager created")},[{key:"initialize",value:(t=(0,s.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInitialized){e.next=1;break}return console.log("[BG Music] Already initialized"),e.abrupt("return");case 1:return console.log("[BG Music] Initializing..."),this.audio=new Audio,this.audio.volume=this.volume,this.audio.loop=!1,this.audio.preload="auto",this.audio.addEventListener("ended",function(){console.log("[BG Music] Track ended, playing next"),t.playNextTrack()}),this.audio.addEventListener("error",function(e){console.error("[BG Music] Error:",e),t.playNextTrack()}),this.audio.addEventListener("play",function(){console.log("[BG Music] ✓ Music playing - Track",t.currentTrackIndex+1)}),this.audio.addEventListener("pause",function(){console.log("[BG Music] Music paused")}),this.isInitialized=!0,console.log("[BG Music] Initialized successfully"),e.next=2,this.tryPlay();case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"tryPlay",value:(e=(0,s.default)(a.default.mark(function e(){var t,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audio){e.next=2;break}return console.log("[BG Music] Audio not ready"),e.next=1,this.initialize();case 1:return e.abrupt("return");case 2:if(!this.isMuted){e.next=3;break}return console.log("[BG Music] Muted, not playing"),e.abrupt("return");case 3:try{console.log("[BG Music] Attempting to play track",this.currentTrackIndex+1),this.audio.src=this.playlist[this.currentTrackIndex],this.audio.volume=this.volume,void 0!==(t=this.audio.play())&&t.then(function(){console.log("[BG Music] ✓ Autoplay SUCCESS!"),i.hasUserInteracted=!0}).catch(function(e){console.log("[BG Music] Autoplay blocked (normal on mobile):",e.name),console.log("[BG Music] Waiting for user interaction...")})}catch(e){console.error("[BG Music] Play error:",e)}case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"startOnUserInteraction",value:function(){console.log("[BG Music] User interaction detected!"),this.hasUserInteracted?console.log("[BG Music] Already started, ignoring"):this.audio?(console.log("[BG Music] Starting music from user interaction..."),this.hasUserInteracted=!0,this.tryPlay()):console.log("[BG Music] Audio not initialized")}},{key:"playNextTrack",value:function(){this.currentTrackIndex=(this.currentTrackIndex+1)%this.playlist.length,console.log("[BG Music] Next track:",this.currentTrackIndex+1),this.tryPlay()}},{key:"pause",value:function(){this.audio&&this.audio.pause()}},{key:"resume",value:function(){this.audio&&!this.isMuted&&(console.log("[BG Music] Resuming..."),this.audio.play().catch(function(){}))}},{key:"resumeIfNotMuted",value:function(){this.audio&&!this.isMuted&&(this.audio.paused?(console.log("[BG Music] iOS paused music, resuming to play with video..."),this.audio.play().catch(function(e){console.log("[BG Music] Resume blocked:",e.name)})):console.log("[BG Music] Already playing, no resume needed"))}},{key:"mute",value:function(){console.log("[BG Music] Muting"),this.isMuted=!0,this.audio&&this.audio.pause()}},{key:"unmute",value:function(){console.log("[BG Music] Unmuting"),this.isMuted=!1,this.audio&&this.isInitialized?this.audio.play().catch(function(){}):this.initialize()}},{key:"setVolume",value:function(e){this.volume=Math.max(0,Math.min(1,e)),this.audio&&(this.audio.volume=this.volume),console.log("[BG Music] Volume set to",this.volume)}},{key:"isMutedState",value:function(){return this.isMuted}},{key:"destroy",value:function(){console.log("[BG Music] Destroying"),this.audio&&(this.audio.pause(),this.audio.src="",this.audio=null),this.isInitialized=!1}}]);var e,t}()},65948:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.urlQuery=t.reqstr=t.isNumber=t.isMobile=t.isIOS=t.isBool=t.isArray=t.getFitFontSize=t.generate18MixedRandom=t.fetchPost=t.fetchGet=t.StorageDataSet=t.StorageDataGet=t.FreeExpiryTime=void 0;var a=n(i(49091));i(27231),i(34625),i(56345),i(69993),i(11783),i(64202),i(45109),i(32580),i(18700),i(42216),i(35185),i(73965);t.urlQuery=location.search.substring(1).split("&").reduce(function(e,t){var i=t.split("=").map(decodeURIComponent);return i[0]in e?Array.isArray(e[i[0]])?e[i[0]].push(i[1]):e[i[0]]=[e[i[0]],i[1]]:e[i[0]]=i[1],e},{}),t.isBool=function(e){switch((0,a.default)(e)){case"undefined":case null:default:return!1;case"boolean":return e;case"string":return"true"==e}},t.fetchPost=function(e,t,i){return new Promise(function(n,a){try{fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return a(e)})}catch(e){a(err)}})},t.fetchGet=function(e){return new Promise(function(t,i){try{fetch(e).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){return i(e)})}catch(e){i(err)}})},t.isArray=function(e){return null==e?[]:Array.isArray(e)?e:[]},t.StorageDataSet=function(e){var t=(new Date).getTime(),i=JSON.stringify({val:e,timer:t});try{localStorage.setItem("".concat(o(),"_").concat(e.gameCode,"_fun"),i)}catch(e){s(e)&&localStorage.clear()}},t.isNumber=function(e){switch((0,a.default)(e)){case"undefined":default:return 0;case"number":return e;case"string":var t=parseInt(e);return Number.isNaN(t)?0:t}},t.reqstr=function(e,t){var i,n=e.match(/\{(.+?)\}/g);if(!n)return"";for(var a=0;a<n.length;a++)i=e.replace(n[a],t);return i},t.getFitFontSize=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,a=document.createElement("div");a.style.position="absolute",a.style.visibility="hidden",a.style.whiteSpace="nowrap",a.style.width=e.clientWidth+"px",a.style.height=e.clientHeight+"px",a.style.overflow="hidden",a.textContent=t,document.body.appendChild(a);for(var s=i,o=n;s>=n;){if(a.style.fontSize=s+"px",a.style.lineHeight="1.2",!(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight)){o=s;break}s-=1}return document.body.removeChild(a),o},t.FreeExpiryTime=function(e){10==e.toString().length&&(e*=1e3);var t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var a=t.getDate();a=a<10?"0"+a:a;var s=t.getHours();s=s<10?"0"+s:s;var o=t.getMinutes();o=o<10?"0"+o:o;var r=t.getSeconds();return r=r<10?"0"+r:r,"".concat(a,"/").concat(n,"/").concat(i," ").concat(s,":").concat(o,":").concat(r)};var s=function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t},o=(t.StorageDataGet=function(e){window.navigator.userAgent;if(!localStorage.getItem("".concat(o(),"_").concat(e,"_fun")))return{bet:1,sound:!0};try{var t=localStorage.getItem("".concat(o(),"_").concat(e,"_fun")),i=JSON.parse(t);return(new Date).getTime()-i.timer>7776e6?(localStorage.removeItem("".concat(o(),"_").concat(e,"_fun")),null):i.val}catch(e){return{bet:1,sound:!0}}},function(){if(!window.parent||window.parent===window)return window.location.host;try{return window.parent.location.host}catch(e){return window.location.host}});t.isMobile=function(){var e=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|Tablet/i.test(e)},t.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},t.generate18MixedRandom=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",i=0;i<18;i++){t+=e[Math.floor(62*Math.random())]}return t}},68414:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(47936);var a=n(i(82942)),s=n(i(18408)),o=i(22965),r=n(i(28001)),l=n(i(27104));t.default=function(){return(0,s.default)(function e(t,i,n,s,o,r){(0,a.default)(this,e),this.root=r,this.chiphittag=i,this.chipamount=t,this._dropPositionx=s,this._dropPositiony=o,this.initChip(n)},[{key:"initChip",value:function(e){this.chipcontainer=new o.Container;var t=this._dropPositionx+10*Math.random(),i=this._dropPositiony+10*Math.random();this.chipcontainer.position.set(t,i),this.root.addChild(this.chipcontainer);var n=o.Sprite.from(e);n.anchor.set(.5,.5),n.scale.set(.5,.5),this.chipcontainer.addChild(n);var a=this.chipamount,s=r.default.getInstance().formatChipMoney(a),u=l.default.createrTxt(s,22,"0x2f2f2f",!1);u.position.set(0,-3),this.chipcontainer.addChild(u)}},{key:"randomMove",value:function(){var e=this._dropPositionx+10*Math.random(),t=this._dropPositiony+10*Math.random();this.chipcontainer.position.set(e,t)}},{key:"destroy",value:function(){this.chipcontainer.destroy({children:!0}),this.chipcontainer.removeFromParent()}}])}()},73646:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(27231),i(34625),i(64202),i(45109),i(50709);var a=n(i(82942)),s=n(i(18408)),o=n(i(64728));t.default=function(){return(0,s.default)(function e(t){var i=this;(0,a.default)(this,e),(0,o.default)(this,"spinCollectGame",function(e){i.state.servCfg.spinCollectGame(e).then(function(e){i.dispatchEvent.emit("updata-collectinfo",e)})}),(0,o.default)(this,"changeBalance",function(e){i.changeState({balance:e}),i.isDomOk("balance").then(function(){document.querySelector(".balance").innerHTML=i.state.servCfg.setMoneys(e,!0)})}),(0,o.default)(this,"changeWin",function(e){document.querySelector(".win").innerHTML=e>0?i.state.servCfg.setMoneys(e,!0):"—"}),(0,o.default)(this,"changeBet",function(e){i.changeState({bet:e}),document.querySelector(".bet").innerHTML=e>0?i.state.servCfg.setMoneys(e,!0):"—"}),(0,o.default)(this,"g_spin",function(e){if(i.getCheatValue()){var t=[];i.getCheatValue().split(",").map(function(e){t.push(parseInt(e))}),e.cheat=t}i.state.servCfg.g_spin(e).then(function(e){i.dispatchEvent.emit("updata-slotmessage",e)})}),this.dispatchEvent=t.Event,this.state=t.state,this.changeState=t.changeState,this.dom=document.getElementById("game-container"),this.dispatchEvent.addListener("spin",this.g_spin.bind(this)),this.dispatchEvent.addListener("collectinfo",this.spinCollectGame.bind(this)),this.dispatchEvent.addListener("updata-balance",this.changeBalance.bind(this)),this.dispatchEvent.addListener("updata-win",this.changeWin.bind(this)),this.dispatchEvent.addListener("updata-bet",this.changeBet.bind(this)),this.init()},[{key:"init",value:function(){!!(this.state.servCfg.slot.gmi.replyPlay&&this.state.servCfg.slot.gmi.replyPlay.results.length>0)&&"roulette"===this.state.gameid&&this.spinCollectGame(1),this.renderUi()}},{key:"renderUi",value:function(){var e=this,t=document.createElement("div");if(t.id="header",t.innerHTML='<div class="devicon">\n            <div class="'.concat(isDev?"devicon-logo":"",'">').concat(isDev?"Dev":"",'</div>\n        </div> <div class="menuicon"><div class="menuicon-logo"></div></div>'),this.dom.appendChild(t),isDev&&document.querySelector(".devicon-logo").addEventListener("click",function(){e.showCheat()}),document.querySelector(".menuicon-logo").addEventListener("click",function(){}),!document.getElementById("foot")){var i=document.createElement("div");i.id="foot";var n='\n                <div class="foot-top" id="roulette1" style="z-index:1">\n                 <div class="foot-balance">\n                        <span class="foot-text">'.concat(this.state.translation.common_label_Balance,'&nbsp;:&nbsp;&nbsp;</span>\n                        <span class="foot-value roulette balance">').concat(this.state.servCfg.setMoneys(this.state.balance,!0),'</span>\n                 </div>\n                <div class="foot-balance" style="justify-content:flex-end;padding-right:1em">\n                         <span class="foot-text">').concat(this.state.translation.common_label_win,'&nbsp;:&nbsp;&nbsp;</span>\n                        <span class="foot-value roulette win">—</span>\n                 </div>\n                </div> \n                 <div class="foot-top" id="roulette1" style="z-index:1">\n                 <div class="foot-balance">\n                        <span class="foot-text">').concat(this.state.translation.common_label_Totalbet,'&nbsp;:&nbsp;&nbsp;</span>\n                        <span class="foot-value roulette bet">—</span>\n                 </div>\n                <div class="foot-balance" style="justify-content:flex-end;padding-right:1em">\n                         <span class="foot-text">Roulettle&nbsp;:&nbsp;&nbsp;</span>\n                        <span class="foot-value roulette roulette-tiem" style="color:#fff">00:00:00</span>\n                 </div>\n                </div>\n                ');i.innerHTML=n,this.dom.appendChild(i),this.getTime()}}},{key:"getTime",value:function(){setInterval(function(){var e=new Date,t=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),n=String(e.getSeconds()).padStart(2,"0"),a="".concat(t,":").concat(i,":").concat(n);document.querySelector(".roulette-tiem").innerHTML=a},1e3)}},{key:"showCheat",value:function(){var e=this;if(!document.getElementById("cheatdiv")){var t=document.createElement("div");t.id="cheatdiv",document.getElementById("game-container").appendChild(t)}if(document.getElementById("".concat(this.state.gameid,"cheatdiv")))document.getElementById("".concat(this.state.gameid,"cheatdiv")).style.display="block";else{var i=document.createElement("div");i.className="resizable",i.id="".concat(this.state.gameid,"cheatdiv");var n="";n+='<div class="cheatValue" id="'.concat(this.state.gameid,'cheatValue">');for(var a=0;a<37;a++)n+='<input type="radio" name="roulette" value="'.concat(a,'">').concat(a);n+="</div>",i.innerHTML=n;var s=document.createElement("div");s.className="drag-handle",s.innerHTML=this.resizeHtml(),i.appendChild(s);var o=document.createElement("div");o.className="closeCheat",o.innerHTML="X",o.addEventListener("click",function(){document.getElementById("".concat(e.state.gameid,"cheatdiv"))&&(document.getElementById("".concat(e.state.gameid,"cheatdiv")).style.display="none")}),i.appendChild(o),document.getElementById("cheatdiv").appendChild(i),s.addEventListener("mousedown",function(e){r=e.clientX,l=e.clientY,u=parseInt(document.defaultView.getComputedStyle(p).width,10),h=parseInt(document.defaultView.getComputedStyle(p).height,10),d=p.getBoundingClientRect(),c=document.getElementById("game-container").getBoundingClientRect(),document.documentElement.addEventListener("mousemove",v,!1),document.documentElement.addEventListener("mouseup",m,!1),e.preventDefault()});var r,l,u,h,c,d,f="100%",g=80,p=document.getElementById("".concat(this.state.gameid,"cheatValue"))}function v(e){var t=u+(e.clientX-r),i=h+(e.clientY-l),n=c.right-d.left,a=c.bottom-d.top;t=Math.min(Math.max(t,f),n),i=Math.min(Math.max(i,g),a),p.style.width=t+"px",p.style.height=i+"px"}function m(){document.documentElement.removeEventListener("mousemove",v,!1),document.documentElement.removeEventListener("mouseup",m,!1)}}},{key:"getCheatValue",value:function(){for(var e=document.querySelectorAll('input[name="'.concat(this.state.gameid,'"]')),t=0;t<e.length;t++)if(e[t].checked)return e[t].value;return""}},{key:"isDomOk",value:function(e){return new Promise(function(t,i){var n=setInterval(function(){document.querySelector(".".concat(e))&&(clearInterval(n),t())},10)})}},{key:"resizeHtml",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#70617e" d="M8.465 7.05l2.828-3.05h-7.293v7.293l3.051-2.829 8.484 8.486-2.828 3.05h7.293v-7.292l-3.051 2.828z"/></svg>'}}])}()},76452:()=>{},83424:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DefaultTableDiffx=t.DefaultTableDiffY=void 0,i(32580),i(35185),i(47936);var a=n(i(82942)),s=n(i(18408)),o=i(22965),r=i(84854),l=n(i(28001)),u=t.DefaultTableDiffx=-95,h=t.DefaultTableDiffY=-50,c=12,d=40,f=new o.Rectangle(-182,-670,580,1340);t.default=function(){return(0,s.default)(function e(t){(0,a.default)(this,e),this.root=t,this.initTable()},[{key:"initTable",value:function(){this.container=new o.Container,this.container.position.set(u,h),this.root.addChild(this.container);var e=o.Sprite.from("table1.png");e.anchor.set(.5,.5),e.position.set(0,0),this.container.addChild(e)}},{key:"initHits",value:function(){this.winnumbertip=null,this.hitsptips=[],this.singleHitRects=[],this.doubleHitRects=[],this.threeHitRects=[],this.fourHitRects=[],this.sixHitRects=[],this.initHitTips(),this.initHitLeftTips(),this.initHitBottomTips(),this.initHitRightTips(),this.initDoubleRect(),this.initThreeRect(),this.initFourRect(),this.initSixRect(),this.initHitEvents()}},{key:"initSixRect",value:function(){f.width;for(var e=f.height/c,t=f.x,i=f.y,n=1;n<c;n++){var a=new o.Rectangle(t-20,i+n*e-20,d,d);this.sixHitRects.push(a)}}},{key:"initFourRect",value:function(){var e=f.width/3,t=f.height/c,i=f.x,n=f.y,a=new o.Rectangle(i-20,n-20,d,d);this.fourHitRects.push(a);for(var s=1;s<c;s++)for(var r=1;r<3;r++){var l=new o.Rectangle(i+r*e-20,n+s*t-20,d,d);this.fourHitRects.push(l)}}},{key:"initThreeRect",value:function(){for(var e=f.width/3,t=f.height/c,i=f.x,n=f.y,a=0;a<c;a++){var s=new o.Rectangle(i-20,n+a*t,d,t);this.threeHitRects.push(s)}var r=new o.Rectangle(i+e-20,n-20,d,d);this.threeHitRects.push(r);var l=new o.Rectangle(i+2*e-20,n-20,d,d);this.threeHitRects.push(l)}},{key:"initDoubleRect",value:function(){for(var e=f.width/3,t=f.height/c,i=f.x,n=f.y,a=0;a<c;a++)for(var s=0;s<3;s++){var r=new o.Rectangle(i+s*e,n+a*t-20,e,d);this.doubleHitRects.push(r)}for(var l=0;l<c;l++)for(var u=1;u<3;u++){var h=new o.Rectangle(i-20+u*e,n+l*t,d,t);this.doubleHitRects.push(h)}}},{key:"initHitTips",value:function(){var e=o.Sprite.from("chiptip4.png");e.anchor.set(.5,.5),e.position.set(108,-720),e.alpha=0,this.container.addChild(e),this.hitsptips.push(e);var t=new o.Rectangle(-182,-767.5,580,95);this.singleHitRects.push(t);for(var i=f.x,n=f.y,a=f.width/3,s=f.height/c,r=0;r<c;r++)for(var l=0;l<3;l++){var u=i+l*a+.5*a,h=n+r*s+.5*s,d=o.Sprite.from("chiptip1.png");d.anchor.set(.5,.5),d.alpha=0,d.position.set(u,h),this.container.addChild(d),this.hitsptips.push(d);var g=new o.Rectangle(i+l*a,n+r*s,a,s);this.singleHitRects.push(g)}}},{key:"initHitLeftTips",value:function(){var e=o.Sprite.from("chiptip0.png");e.anchor.set(.5,.5),e.position.set(-238,-447),e.alpha=0,this.container.addChild(e),this.hitsptips.push(e);var t=new o.Rectangle(-291,-670,106,446);this.singleHitRects.push(t);var i=o.Sprite.from("chiptip0.png");i.anchor.set(.5,.5),i.position.set(-238,0),i.alpha=0,this.container.addChild(i),this.hitsptips.push(i);var n=new o.Rectangle(-291,-223,106,446);this.singleHitRects.push(n);var a=o.Sprite.from("chiptip0.png");a.anchor.set(.5,.5),a.position.set(-238,447),a.alpha=0,this.container.addChild(a),this.hitsptips.push(a);var s=new o.Rectangle(-291,224,106,446);this.singleHitRects.push(s)}},{key:"initHitBottomTips",value:function(){var e=o.Sprite.from("chiptip2.png");e.anchor.set(.5,.5),e.position.set(-86,720),e.alpha=0,this.container.addChild(e),this.hitsptips.push(e);var t=new o.Rectangle(-182,674,192,92);this.singleHitRects.push(t);var i=o.Sprite.from("chiptip1.png");i.anchor.set(.5,.5),i.position.set(108,720),i.scale.set(1,.836),i.alpha=0,this.container.addChild(i),this.hitsptips.push(i);var n=new o.Rectangle(12,674,192,92);this.singleHitRects.push(n);var a=o.Sprite.from("chiptip2.png");a.anchor.set(.5,.5),a.position.set(302,720),a.scale.set(-1,1),a.alpha=0,this.container.addChild(a),this.hitsptips.push(a);var s=new o.Rectangle(206,674,192,92);this.singleHitRects.push(s)}},{key:"initHitRightTips",value:function(){var e=o.Sprite.from("chiptip3.png");e.anchor.set(.5,.5),e.position.set(-346,-558),e.alpha=0,this.container.addChild(e),this.hitsptips.push(e);var t=new o.Rectangle(-399,-669,106,222);this.singleHitRects.push(t);for(var i=0;i<4;i++){var n=o.Sprite.from("chiptip1.png");n.anchor.set(.5,.5),n.position.set(-346,224*i-336),n.scale.set(.55,2.02),n.alpha=0,this.container.addChild(n),this.hitsptips.push(n);var a=new o.Rectangle(-399,224*i-336-111,106,222);this.singleHitRects.push(a)}var s=o.Sprite.from("chiptip3.png");s.anchor.set(.5,.5),s.position.set(-346,560),s.scale.set(1,-1),s.alpha=0,this.container.addChild(s),this.hitsptips.push(s);var r=new o.Rectangle(-399,449,106,222);this.singleHitRects.push(r)}},{key:"initHitEvents",value:function(){this.hitevent=o.Sprite.from("chiptip1.png"),this.hitevent.alpha=0,this.hitevent.anchor.set(.5,.5),this.hitevent.position.set(0,0),this.hitevent.scale.set(4.2,14),this.container.addChild(this.hitevent),this.hitevent.interactive=!0,this.hitevent.buttonMode=!0,this.hitevent.on("pointermove",this.handleOnPointerMove.bind(this),this),this.hitevent.on("pointerout",this.handleOnPointerOut.bind(this),this),this.hitevent.on("pointerdown",this.handleOnPointerDown.bind(this),this)}},{key:"handleOnPointerDown",value:function(e){var t=l.default.getInstance().getMainBoard();if(!t||!t.cannotHitChip()){for(var i=e.data.getLocalPosition(this.hitevent),n=4.2*i.x,a=14*i.y,s=this.sixHitRects.length,o=0;o<s;o++){if(this.sixHitRects[o].contains(n,a)){var u=r.SixHitConfig.hit[o],h=r.SixHitConfig.type+o;return this.handleTableClick(h,u),void this.clearAllHitTips()}}for(var c=this.fourHitRects.length,d=0;d<c;d++){if(this.fourHitRects[d].contains(n,a)){var f=r.FourHitConfig.hit[d],g=r.FourHitConfig.type+d;return this.handleTableClick(g,f),void this.clearAllHitTips()}}for(var p=this.threeHitRects.length,v=0;v<p;v++){if(this.threeHitRects[v].contains(n,a)){var m=r.ThreeHitConfig.hit[v],b=r.ThreeHitConfig.type+v;return this.handleTableClick(b,m),void this.clearAllHitTips()}}for(var y=this.doubleHitRects.length,k=0;k<y;k++){if(this.doubleHitRects[k].contains(n,a)){var w=r.TwoHitConfig.hit[k],C=r.TwoHitConfig.type+k;return this.handleTableClick(C,w),void this.clearAllHitTips()}}for(var S=this.singleHitRects.length,M=0;M<S;M++){if(this.singleHitRects[M].contains(n,a)){var x=r.SingleHitConfig.hit[M],T=r.SingleHitConfig.type+M;return this.handleTableClick(T,x),void this.clearAllHitTips()}}}}},{key:"handleOnPointerMove",value:function(e){var t=l.default.getInstance().getMainBoard();if(!t||!t.cannotHitChip()){for(var i=e.data.getLocalPosition(this.hitevent),n=4.2*i.x,a=14*i.y,s=this.sixHitRects.length,o=0;o<s;o++){if(this.sixHitRects[o].contains(n,a)){var u=r.SixHitConfig.hit[o];return void this.clearHitTips(u)}}for(var h=this.fourHitRects.length,c=0;c<h;c++){if(this.fourHitRects[c].contains(n,a)){var d=r.FourHitConfig.hit[c];return void this.clearHitTips(d)}}for(var f=this.threeHitRects.length,g=0;g<f;g++){if(this.threeHitRects[g].contains(n,a)){var p=r.ThreeHitConfig.hit[g];return void this.clearHitTips(p)}}for(var v=this.doubleHitRects.length,m=0;m<v;m++){if(this.doubleHitRects[m].contains(n,a)){var b=r.TwoHitConfig.hit[m];return void this.clearHitTips(b)}}for(var y=this.singleHitRects.length,k=0;k<y;k++){if(this.singleHitRects[k].contains(n,a)){var w=r.SingleHitConfig.hit[k];return void this.clearHitTips(w)}}}}},{key:"handleOnPointerOut",value:function(){this.clearAllHitTips()}},{key:"clearAllHitTips",value:function(){this.clearHitTips()}},{key:"clearHitTips",value:function(e){null!=e&&null!=e||(e=[]);for(var t=this.hitsptips.length,i=0;i<t;i++){this.hitsptips[i].alpha=0}for(var n=e.length,a=0;a<n;a++){var s=e[a];this.hitsptips[s].alpha=1}}},{key:"handleTableClick",value:function(e,t){var i=l.default.getInstance().getMainBoard();if(i&&i.canHitBetInBoard()){var n=l.default.getInstance().hitBet(e,t);i.handleBoardClick(n),i.refreshTableBetNumberAni(n)}}},{key:"showResultItip",value:function(e){this.clearResulttip();var t=r.SingleHitConfig.type+e,i=this.clickPositionRect(t);if(null!=i){var n="wink1.png";0==e&&(n="wink0.png"),this.winnumbertip=o.Sprite.from(n),this.winnumbertip.anchor.set(.5,.5),this.winnumbertip.position.set(i.x-u,i.y-h),this.container.addChild(this.winnumbertip)}}},{key:"clearResulttip",value:function(){null!=this.winnumbertip&&(this.winnumbertip.removeFromParent(),this.winnumbertip.destroy(),this.winnumbertip=null)}},{key:"clickPositionRect",value:function(e){var t=e.replace(/[^\d]/g,""),i=parseInt(t),n=null;if(-1!=e.indexOf("Six")&&(n=this.sixHitRects[i]),-1!=e.indexOf("Corner")&&(n=this.fourHitRects[i]),-1!=e.indexOf("Street")&&(n=this.threeHitRects[i]),-1!=e.indexOf("Split")&&(n=this.doubleHitRects[i]),-1!=e.indexOf("Single")&&(n=this.singleHitRects[i]),null!=n){var a=new o.Point(n.x+n.width/2,n.y+n.height/2);return a.x+=u,a.y+=h,a}return null}}])}()},84293:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(27231),i(1865),i(34625),i(52175),i(56345),i(11783),i(64202),i(45109);var a=n(i(82942)),s=n(i(18408)),o=n(i(64728)),r=i(65948);t.default=function(){return(0,s.default)(function e(t,i){var n=this;(0,a.default)(this,e),(0,o.default)(this,"reconnect",function(){n.status.lockReconnect||(n.status.lockReconnect=!0,n.status.reconnectSetTime&&clearTimeout(n.status.reconnectSetTime),n.loadAssets("WEBSOCKTCLOSE").then(function(){n.cleanAssets("WEBSOCKTCLOSE")}),n.status.reconnectSetTime=setTimeout(function(){n.init(),n.status.lockReconnect=!1},n.status.reconnectTime))}),(0,o.default)(this,"g_spin",function(e){var t={autonums:-1,bet:null==e?void 0:e.allbet,lines:1,times:1,command:e.command,commandParam:e.places?JSON.stringify(e.places):"",lstrand:e.cheat};return n._send({cmdid:"gamectrl3",gameid:n.slot.gameid,ctrlid:n.status.gameuserinfo.ctrlid,ctrlname:"spin",ctrlparam:t}),new Promise(function(e,t){n.loadAssets("getServ").then(function(){n.cleanAssets("getServ"),e(n.slot)})})}),(0,o.default)(this,"getBalance",function(){var e={cmdid:"refresh",gameid:n.slot.gameid,userbaseinfo:["gold"]};return n._send(e),new Promise(function(e,t){n.loadAssets("getBalance").then(function(){n.cleanAssets("getBalance"),e(n.status.userbaseinfo.userbaseinfo.gold)})})}),(0,o.default)(this,"spinCollectGame",function(){var e={cmdid:"collect",gameid:n.slot.gameid,playIndex:n.slot.gmi.replyPlay.results.length-1};return n._send(e),new Promise(function(e,t){n.loadAssets("collectinfo").then(function(){n.cleanAssets("collectinfo"),e(n.collectinfo)})})}),(0,o.default)(this,"getHistory",function(e){return new Promise(function(t,i){(0,r.fetchGet)("".concat(e.historyApi,"?gameCode=").concat(n.gameid,"&token=").concat(r.urlQuery.platformToken,"&limit=").concat(e.limit,"&offset=").concat(e.offset)).then(function(e){t(e)}).catch(function(e){})})}),(0,o.default)(this,"loadAssets",function(e){return new Promise(function(t){return n.status.assetsMessage.push({name:e,update:function(){t()}})})}),(0,o.default)(this,"cleanAssets",function(e){var t=n.status.assetsMessage.findIndex(function(t){return t.name===e});n.status.assetsMessage.splice(t,1)}),this.wss=t,this.gameid=i,this.heartTime=3e4,this.socket=null,this.status={webSocketState:!1,lockReconnect:!1,reconnectTime:5e3,reconnectSetTime:null,reconnectflag:!1,assetsMessage:[],g_state:{collectinfo:null,isFirstMessage:!0}},this.init()},[{key:"init",value:function(){var e=this;this.socket||(this.socket=new WebSocket(this.wss),this.socket.addEventListener("open",function(t){e._send({cmdid:"flblogin",gamecode:e.gameid,businessid:r.urlQuery.businessCode||"guest",jurisdiction:r.urlQuery.jurisdiction||"MT",token:r.urlQuery.platformToken||(0,r.generate18MixedRandom)(),clienttype:"web",language:"en"}),setInterval(function(){e._send({cmdid:"keepalive"})},e.heartTime),e.status.assetsMessage.map(function(e,t){"WEBSOCKTCLOSE"==e.name&&e.update()})}),this.socket.addEventListener("message",function(t){var i=JSON.parse(t.data);if("timesync"==i.msgid&&(e.status.time=i.servtime),"cmdret"===i.msgid&&"flblogin"===i.cmdid&&i.isok&&e._send({cmdid:"comeingame3",gamecode:e.gameid,tableid:"",isreconnect:!1}),"gameuserinfo"===i.msgid&&(e.status.gameuserinfo=i),"gamemoduleinfo"===i.msgid&&(e.slot=i,e.status.assetsMessage.map(function(e,t){"getServ"==e.name&&e.update()})),"refresh"===i.cmdid&&i.isok&&e.status.assetsMessage.map(function(e,t){"getBalance"==e.name&&e.update()}),"userbaseinfo"===i.msgid&&(e.status.userbaseinfo=i),"gamecfg"===i.msgid&&(e.status.gamecfg=i),"cmdret"===i.msgid&&"comeingame3"===i.cmdid&&i.isok&&e.status.assetsMessage.map(function(e,t){"servLoadOk"==e.name&&e.update()}),"collectinfo"===i.msgid&&(e.collectinfo=i,e.status.assetsMessage.map(function(e,t){"collectinfo"==e.name&&e.update()})),"cmdret"===i.msgid&&"collect"===i.cmdid&&i.isok&&e.status.assetsMessage.map(function(e,t){"collectinfo"==e.name&&e.update()}),"noticemsg2"===i.msgid&&void 0!==i.msgparam){var n=i.msgparam.dtapierrcode?i.msgparam.dtapierrcode.split("|"):"";""!=n?n[0]:i.msgparam.httpcode,"".concat(i.msgcode," | ").concat(void 0!==i.msgparam.dtapierrcode?i.msgparam.dtapierrcode:i.msgparam.httpcode)}}),this.socket.addEventListener("error",function(t){e.socket&&(e.socket.close(),e.socket=null),e.reconnect()}),this.socket.addEventListener("close",function(t){e.socket&&(e.socket.close(),e.socket=null),e.reconnect()}))}},{key:"servLoadOk",value:function(){var e=this;return new Promise(function(t,i){e.loadAssets("servLoadOk").then(function(){e.cleanAssets("servLoadOk"),t(e)})})}},{key:"_send",value:function(e){try{this.socket.readyState&&this.socket.send(JSON.stringify(e))}catch(e){}}}])}()},84854:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwoHitConfig=t.ThreeHitConfig=t.SixHitConfig=t.SingleHitConfig=t.RouletteNumbers=t.RouletteCfg=t.RedNumbers=t.FourHitConfig=t.BlackNumbers=void 0;t.RouletteCfg={DesiWidth:1080,DesiHeight:1920,WheelDefaultY:-1400},t.SingleHitConfig={type:"Single",hit:[[0],[1],[2],[3],[4],[5],[6],[7],[8],[9],[10],[11],[12],[13],[14],[15],[16],[17],[18],[19],[20],[21],[22],[23],[24],[25],[26],[27],[28],[29],[30],[31],[32],[33],[34],[35],[36],[1,2,3,4,5,6,7,8,9,10,11,12],[13,14,15,16,17,18,19,20,21,22,23,24],[25,26,27,28,29,30,31,32,33,34,35,36],[1,4,7,10,13,16,19,22,25,28,31,34],[2,5,8,11,14,17,20,23,26,29,32,35],[3,6,9,12,15,18,21,24,27,30,33,36],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],[2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],[1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35],[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]]},t.TwoHitConfig={type:"Split",hit:[[0,1],[0,2],[0,3],[1,4],[2,5],[3,6],[4,7],[5,8],[6,9],[7,10],[8,11],[9,12],[10,13],[11,14],[12,15],[13,16],[14,17],[15,18],[16,19],[17,20],[18,21],[19,22],[20,23],[21,24],[22,25],[23,26],[24,27],[25,28],[26,29],[27,30],[28,31],[29,32],[30,33],[31,34],[32,35],[33,36],[1,2],[2,3],[4,5],[5,6],[7,8],[8,9],[10,11],[11,12],[13,14],[14,15],[16,17],[17,18],[19,20],[20,21],[22,23],[23,24],[25,26],[26,27],[28,29],[29,30],[31,32],[32,33],[34,35],[35,36]]},t.ThreeHitConfig={type:"Street",hit:[[1,2,3],[4,5,6],[7,8,9],[10,11,12],[13,14,15],[16,17,18],[19,20,21],[22,23,24],[25,26,27],[28,29,30],[31,32,33],[34,35,36],[0,1,2],[0,2,3]]},t.FourHitConfig={type:"Corner",hit:[[0,1,2,3],[1,2,4,5],[2,3,5,6],[4,5,7,8],[5,6,8,9],[7,8,10,11],[8,9,11,12],[10,11,13,14],[11,12,14,15],[13,14,16,17],[14,15,17,18],[16,17,19,20],[17,18,20,21],[19,20,22,23],[20,21,23,24],[22,23,25,26],[23,24,26,27],[25,26,28,29],[26,27,29,30],[28,29,31,32],[29,30,32,33],[31,32,34,35],[32,33,35,36]]},t.SixHitConfig={type:"Six",hit:[[1,2,3,4,5,6],[4,5,6,7,8,9],[7,8,9,10,11,12],[10,11,12,13,14,15],[13,14,15,16,17,18],[16,17,18,19,20,21],[19,20,21,22,23,24],[22,23,24,25,26,27],[25,26,27,28,29,30],[28,29,30,31,32,33],[31,32,33,34,35,36]]},t.RedNumbers=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],t.BlackNumbers=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],t.RouletteNumbers=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26]},93114:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(2971)),s=n(i(50936)),o=n(i(82942)),r=n(i(18408)),l=n(i(27409)),u=n(i(28001)),h=n(i(95370));t.default=function(){return(0,r.default)(function e(t){(0,o.default)(this,e),this.root=t,this.initWheel()},[{key:"initWheel",value:function(){var e=this;this.videoManager=new h.default,this.videoContainer=this.videoManager.getContainer(),this.videoContainer.x=0,this.videoContainer.y=0,this.videoContainer.zIndex=-100,this.root.addChild(this.videoContainer),this.videoManager.initializeVideos().then(function(){e.videoManager.showBackgroundVideo()})}},{key:"playNumberVideo",value:(e=(0,s.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.videoManager&&(this.enterSplitScreenMode(),this.beginVideoTransition(t));case 1:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"beginVideoTransition",value:function(e){var t=this;this.videoManager.playVideoForNumber(e,function(){var e=l.default.getInstance();e&&e.wheelEffectDone(),t.exitSplitScreenMode()})}},{key:"enterSplitScreenMode",value:function(){var e=u.default.getInstance();e&&e.getMainBoard()&&e.getMainBoard().enterSplitScreenMode()}},{key:"exitSplitScreenMode",value:function(){var e=u.default.getInstance();e&&e.getMainBoard()&&e.getMainBoard().exitSplitScreenMode()}}]);var e}()},95370:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(2971));i(87933),i(46250),i(64202),i(45109),i(65535),i(47936),i(73111),i(28070);var s=n(i(50936)),o=n(i(82942)),r=n(i(18408)),l=i(22965),u=(n(i(27104)),function(){return(0,r.default)(function e(){(0,o.default)(this,e),this.container=new l.Container,this.container.zIndex=1e3,this.container.visible=!0,this.container.alpha=1,this.container.sortableChildren=!0,this.container.eventMode="none",this.container.interactiveChildren=!0,this.videoSprite=null,this.backgroundOverlay=null,this.currentVideo=null,this.bottomBorder=null,this.videoTextures=new Map,this.isPlaying=!1,this.onVideoComplete=null,this.onVideoStart=null,this.backgroundMusicManager=null,this.backgroundVideo=null,this.backgroundSprite=null,this.backgroundTexture=null,this.isBackgroundPlaying=!1,this.videoMapping={};for(var t=0;t<=36;t++)this.videoMapping[t]="assets/videos/number_".concat(t,".mp4");this.backgroundVideoPath="assets/videos/background.mp4"},[{key:"initializeVideos",value:(c=(0,s.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,this.initializeBackgroundVideo();case 1:console.log("[VideoManager] Videos ready for on-demand loading"),e.next=3;break;case 2:e.prev=2,t=e.catch(0),console.log("[VideoManager] Video initialization error:",t);case 3:case"end":return e.stop()}},e,this,[[0,2]])})),function(){return c.apply(this,arguments)})},{key:"initializeBackgroundVideo",value:(h=(0,s.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){try{var i=document.createElement("video");i.src=t.backgroundVideoPath,i.crossOrigin="anonymous",i.loop=!0,i.muted=!0,i.preload="metadata",i.playsInline=!0,i.setAttribute("playsinline","true"),i.setAttribute("webkit-playsinline","true"),i.setAttribute("controls","false"),i.style.pointerEvents="none",i.style.display="none",i.addEventListener("loadedmetadata",function(){try{var n=l.Texture.from(i);t.backgroundSprite=new l.Sprite(n),t.backgroundSprite.anchor.set(.5,.5),t.positionVideoSprite(t.backgroundSprite,i,!0),t.backgroundSprite.zIndex=1,t.backgroundSprite.visible=!0,t.backgroundSprite.alpha=1,t.container.addChild(t.backgroundSprite),t.backgroundVideo=i,i.play().catch(function(){}),console.log("[VideoManager] Background video initialized successfully"),e(!0)}catch(t){console.log("[VideoManager] Background video texture creation failed:",t),e(!1)}}),i.addEventListener("error",function(){console.log("[VideoManager] Background video load error"),e(!1)}),setTimeout(function(){t.backgroundSprite||(console.log("[VideoManager] Background video timeout - proceeding without it"),e(!1))},2e3)}catch(t){console.log("[VideoManager] Background video initialization error:",t),e(!1)}}));case 1:case"end":return e.stop()}},e)})),function(){return h.apply(this,arguments)})},{key:"positionVideoSprite",value:function(e,t){var i,n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=window.innerWidth||1024,o=window.innerHeight||768;e.x=0,e.y=s>=1024||s>=768?-900:s>=400||s<=399?-650:-1300,s>=1024?(i=1.55*s,n=.9*o):s>=768?(i=1.2*s,n=.6*o):s>=400?(i=1.6*s,n=.9*o):s<=399?(i=1.58*s,n=.9*o):(i=1*s,n=.8*o);var r=i/t.videoWidth,l=n/t.videoHeight,u=s>768?Math.min(r,l):Math.max(r,l);if(a){var h=u/.7;e.scale.set(h)}else e.scale.set(u)}},{key:"loadVideoTexture",value:(u=(0,s.default)(a.default.mark(function e(t,i){var n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){var s=document.createElement("video");s.src=i,s.crossOrigin="anonymous",s.loop=!1,s.muted=!0,s.preload="metadata",s.playsInline=!0,s.setAttribute("playsinline","true"),s.setAttribute("webkit-playsinline","true"),s.setAttribute("controls","false"),s.style.pointerEvents="none",s.style.display="none",s.addEventListener("loadedmetadata",function(){try{var i=l.Texture.from(s);n.videoTextures.set(t,{video:s,texture:i}),e(i)}catch(e){a(e)}}),s.addEventListener("error",function(e){a(e)})}));case 1:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)})},{key:"playVideoForNumber",value:(n=(0,s.default)(a.default.mark(function e(t,i){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.onVideoComplete=i,this.videoTextures.has(t)){e.next=6;break}if(!this.videoMapping[t]){e.next=5;break}return e.prev=1,e.next=2,this.loadVideoTexture(t,this.videoMapping[t]);case 2:e.next=4;break;case 3:return e.prev=3,e.catch(1),i&&i(),e.abrupt("return",!1);case 4:e.next=6;break;case 5:return i&&i(),e.abrupt("return",!1);case 6:if(n=this.videoTextures.get(t)){e.next=7;break}return i&&i(),e.abrupt("return",!1);case 7:return e.prev=7,this.hideBackgroundVideoInstant(),e.next=8,this.startVideoPlayback(n);case 8:return e.abrupt("return",!0);case 9:return e.prev=9,e.catch(7),i&&i(),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,this,[[1,3],[7,9]])})),function(e,t){return n.apply(this,arguments)})},{key:"startVideoPlayback",value:(i=(0,s.default)(a.default.mark(function e(t){var i,n,s,o,r,u,h,c=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.video,n=t.texture,this.videoSprite?this.videoSprite.texture=n:(this.videoSprite=new l.Sprite(n),this.videoSprite.anchor.set(.5,.5),this.container.addChild(this.videoSprite)),this.positionVideoSprite(this.videoSprite,i,!0),this.videoSprite.alpha=1,this.videoSprite.visible=!0,this.videoSprite.zIndex=1e3,this.bottomBorder||(this.bottomBorder=new l.Graphics,this.container.addChild(this.bottomBorder)),this.bottomBorder.clear(),s=this.videoSprite.scale.x,o=i.videoWidth*s,r=i.videoHeight*s,u=this.videoSprite.x-o/2,h=this.videoSprite.y+r/2,this.bottomBorder.beginFill(0,.5),this.bottomBorder.drawRect(u,h,o,14),this.bottomBorder.endFill(),this.bottomBorder.beginFill(0,.35),this.bottomBorder.drawRect(u,h+14,o,12.25),this.bottomBorder.endFill(),this.bottomBorder.beginFill(0,.25),this.bottomBorder.drawRect(u,h+26.25,o,10.5),this.bottomBorder.endFill(),this.bottomBorder.beginFill(0,.18),this.bottomBorder.drawRect(u,h+36.75,o,8.75),this.bottomBorder.endFill(),this.bottomBorder.beginFill(0,.12),this.bottomBorder.drawRect(u,h+45.5,o,7),this.bottomBorder.endFill(),this.bottomBorder.beginFill(0,.06),this.bottomBorder.drawRect(u,h+52.5,o,5.25),this.bottomBorder.endFill(),this.bottomBorder.zIndex=1001,this.bottomBorder.alpha=1,this.bottomBorder.visible=!0,this.fadeIn(),i.addEventListener("ended",this.onVideoEnded.bind(this),{once:!0}),this.isPlaying=!0,this.currentVideo=i,e.prev=1,i.currentTime=0,i.muted=!1,i.volume=.8,e.next=2,i.play();case 2:this.videoSprite.texture.baseTexture.resource.source=i,this.videoSprite.texture.baseTexture.update(),this.videoSprite.texture.updateUvs(),this.videoSprite._textureID=-1,this.backgroundMusicManager&&setTimeout(function(){console.log("[VideoManager] Resuming background music alongside video"),c.backgroundMusicManager.resumeIfNotMuted()},100),this.onVideoStart&&this.onVideoStart(),e.next=4;break;case 3:e.prev=3,e.catch(1),this.isPlaying=!1,this.onVideoComplete&&this.onVideoComplete();case 4:case"end":return e.stop()}},e,this,[[1,3]])})),function(e){return i.apply(this,arguments)})},{key:"onVideoEnded",value:function(){var e=this;this.isPlaying=!1,this.videoSprite&&(this.videoSprite.visible=!1,this.videoSprite.alpha=0),this.bottomBorder&&(this.bottomBorder.visible=!1,this.bottomBorder.alpha=0),this.fadeOut(function(){setTimeout(function(){e.showBackgroundVideo()},500),e.onVideoComplete&&e.onVideoComplete()})}},{key:"fadeIn",value:function(){this.videoSprite&&(this.videoSprite.alpha=1,this.videoSprite.visible=!0,this.bottomBorder&&(this.bottomBorder.alpha=1,this.bottomBorder.visible=!0))}},{key:"smoothVideoEntrance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=0,n=this.videoSprite.scale.x,a=function(){i+=.15,e.videoSprite.alpha=Math.min(1,i),e.bottomBorder&&(e.bottomBorder.alpha=Math.min(1,i)),n>t&&(n=Math.max(t,n-.008),e.videoSprite.scale.set(n)),(i<1||n>t)&&requestAnimationFrame(a)};requestAnimationFrame(a)}},{key:"smoothFadeIn",value:function(){var e=this,t=function(){e.videoSprite&&(e.videoSprite.alpha=Math.min(1,e.videoSprite.alpha+.08),e.videoSprite.alpha<1&&requestAnimationFrame(t))};t()}},{key:"fadeOut",value:function(e){var t=this;if(this.videoSprite){var i=function(){t.videoSprite.alpha=Math.max(0,t.videoSprite.alpha-.1),t.videoSprite.alpha>0?requestAnimationFrame(i):e&&e()};i()}else e&&e()}},{key:"stopVideo",value:function(){this.currentVideo&&this.isPlaying&&(this.currentVideo.pause(),this.currentVideo.currentTime=0,this.isPlaying=!1),this.videoSprite&&(this.videoSprite.alpha=0)}},{key:"setBackgroundMusicManager",value:function(e){this.backgroundMusicManager=e,console.log("[VideoManager] Background music manager linked")}},{key:"getContainer",value:function(){return this.container}},{key:"destroy",value:function(){this.stopVideo(),this.videoTextures.forEach(function(e){var t=e.video,i=e.texture;t.removeAttribute("src"),t.load(),i.destroy()}),this.videoTextures.clear(),this.videoSprite&&(this.videoSprite.destroy(),this.videoSprite=null),this.container&&this.container.destroy()}},{key:"showBackgroundVideo",value:(t=(0,s.default)(a.default.mark(function e(){var t,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.backgroundVideo&&this.backgroundSprite){e.next=1;break}return e.abrupt("return");case 1:if(e.prev=1,this.backgroundSprite.visible=!0,this.backgroundSprite.alpha=0,!this.backgroundVideo){e.next=6;break}return this.backgroundVideo.currentTime=0,e.prev=2,e.next=3,this.backgroundVideo.play();case 3:this.isBackgroundPlaying=!0,e.next=5;break;case 4:e.prev=4,e.catch(2),this.isBackgroundPlaying=!1;case 5:this.backgroundSprite&&this.backgroundSprite.texture.baseTexture.resource&&(this.backgroundSprite.texture.baseTexture.resource.source=this.backgroundVideo,this.backgroundSprite.texture.baseTexture.update());case 6:(t=function(){i.backgroundSprite&&(i.backgroundSprite.alpha=Math.min(1,i.backgroundSprite.alpha+.06),i.backgroundShadow&&(i.backgroundShadow.visible=!0,i.backgroundShadow.alpha=i.backgroundSprite.alpha),i.backgroundSprite.alpha<1&&requestAnimationFrame(t))})(),e.next=8;break;case 7:e.prev=7,e.catch(1);case 8:case"end":return e.stop()}},e,this,[[1,7],[2,4]])})),function(){return t.apply(this,arguments)})},{key:"hideBackgroundVideo",value:(e=(0,s.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.backgroundVideo&&this.backgroundSprite){e.next=1;break}return e.abrupt("return",Promise.resolve());case 1:return e.abrupt("return",new Promise(function(e){var i=function(){t.backgroundSprite.alpha=Math.max(0,t.backgroundSprite.alpha-.15),t.backgroundShadow&&(t.backgroundShadow.alpha=t.backgroundSprite.alpha),t.backgroundSprite.alpha>0?requestAnimationFrame(i):(t.backgroundSprite.visible=!1,t.backgroundShadow&&(t.backgroundShadow.visible=!1),t.backgroundVideo&&t.isBackgroundPlaying&&(t.backgroundVideo.pause(),t.isBackgroundPlaying=!1),e())};i()}));case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"hideBackgroundVideoInstant",value:function(){this.backgroundVideo&&this.backgroundSprite&&(this.backgroundSprite.alpha=0,this.backgroundSprite.visible=!1,this.backgroundShadow&&(this.backgroundShadow.alpha=0,this.backgroundShadow.visible=!1),this.backgroundVideo&&this.isBackgroundPlaying&&(this.backgroundVideo.pause(),this.isBackgroundPlaying=!1))}},{key:"getIsPlaying",value:function(){return this.isPlaying}},{key:"getIsBackgroundPlaying",value:function(){return this.isBackgroundPlaying}}]);var e,t,i,n,u,h,c}());t.default=u},95537:(e,t,i)=>{"use strict";var n=i(88569);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ResultMaxLen=t.MainBoradType=void 0;var a=n(i(2971));i(52175),i(64202),i(32580),i(35185),i(47936);var s=n(i(50936)),o=n(i(82942)),r=n(i(18408)),l=i(22965),u=i(12757),h=i(84854),c=n(i(19017)),d=n(i(47550)),f=n(i(68414)),g=n(i(28001)),p=n(i(83424)),v=n(i(27104)),m=n(i(27409)),b=(n(i(7708)),n(i(55506))),y=n(i(61464)),k=t.MainBoradType={None:-1,MenuIdle:0,WheelAni:1},w=t.ResultMaxLen=12;t.default=function(){return(0,r.default)(function e(){(0,o.default)(this,e),this.root=new l.Container,this.initData(),this.initFastTables(),this.initMenuButtons(),this.intiHistory(),this.checkMenuBtnsAble(),g.default.getInstance().registerBoard(this),this.soundPopup=new b.default(this),this.root.addChild(this.soundPopup.getContainer()),this.backgroundMusicManager=new y.default,this.backgroundMusicManager.initialize(),this.setupMusicAutoplayHandler()},[{key:"initData",value:function(){this.tableChipList=[],this.boradState=k.None,this.isTableRect=!0,this.isChipSelecting=!1;var e=window.innerWidth||1024;this.buttonX=t?710:550;var t=e<=768;this.buttonX=t?580:520}},{key:"initFastTables",value:function(){this.tableroot=new l.Container,this.root.addChild(this.tableroot),this.recttable=new p.default(this.tableroot)}},{key:"intiHistory",value:function(){this.history=new l.Container,this.historybg=new l.Container;var e=l.Sprite.from("history2.png");e.anchor.set(0,.5),e.position.set(0,0),this.historybg.addChild(e);var t=l.Sprite.from("history1.png");t.anchor.set(0,.5),t.position.set(0,0),this.historybg.addChild(t)}},{key:"initMenuButtons",value:function(){this.menucontainer=new l.Container,this.root.addChild(this.menucontainer),this.menubtnbg=l.Sprite.from("menubg2.png"),this.menubtnbg.anchor.set(.5,.5),this.menubtnbg.position.set(this.buttonX,-50),this.menucontainer.addChild(this.menubtnbg);var e=g.default.getInstance().getLanguage("roulette_ui_1");this.btnClearBet=new c.default("betclear","betclear.png",e,new l.Point(0,75),this.menucontainer,void 0,30);var t=g.default.getInstance().getLanguage("roulette_ui_4");this.btnUndoBet=new c.default("undobet","undo.png",t,new l.Point(0,75),this.menucontainer,void 0,30);this.btnChipChange=new c.default("chipbet","rgrayse.png","0",new l.Point(0,-6),this.menucontainer,void 0,42,!0),this.btnChipChange.setTxtextColor(3092271);var i=g.default.getInstance().getLanguage("roulette_ui_5");this.btnDoubelBet=new c.default("doubelbet","double.png",i,new l.Point(0,75),this.menucontainer,void 0,30);var n=g.default.getInstance().getLanguage("roulette_ui_8");this.btnSpinDo=new c.default("spin","spin.png",n,new l.Point(0,110),this.menucontainer,void 0,36,!0),this.isMuted=!1,this.bgMusicMuted=!1;this.btnSoundCtrl=new c.default("soundcontrol","spin.png","🔊",new l.Point(0,0),this.menucontainer,void 0,48),this.btnClearBet.onClicked(this.handleButtonClick.bind(this)),this.btnUndoBet.onClicked(this.handleButtonClick.bind(this)),this.btnChipChange.onClicked(this.handleButtonClick.bind(this)),this.btnDoubelBet.onClicked(this.handleButtonClick.bind(this)),this.btnSpinDo.onClicked(this.handleButtonClick.bind(this)),this.btnSoundCtrl.onClicked(this.handleButtonClick.bind(this)),this.btnClearBet.setPosition(this.buttonX,-680),this.btnUndoBet.setPosition(this.buttonX,-250),this.btnChipChange.setPosition(this.buttonX,-50),this.btnDoubelBet.setPosition(this.buttonX,120),this.btnSoundCtrl.setPosition(this.buttonX,-850),this.btnSpinDo.setPosition(this.buttonX,680)}},{key:"initChipBets",value:function(){this.chipcontainer=new l.Container,this.root.addChild(this.chipcontainer);var e=l.Sprite.from("menubg1.png");e.anchor.set(.5,.5),e.position.set(this.buttonX,-50),this.chipcontainer.addChild(e);for(var t=g.default.getInstance().getChipLst(),i=[],n=0;n<t.length;n++){var a=t[n],s=a.value,o=g.default.getInstance().formatChipMoney(s),r=a.color,u="selectbet"+s,h=new c.default(u,r,o,new l.Point(0,-6),this.chipcontainer,void 0,42,!0);h.setTxtextColor(3092271),i.push(h),h.onClicked(this.handleChangeChipClick.bind(this))}d.default.resetPositions(2,new l.Point(this.buttonX,-50),172,i);var f=i[0].getPosition();this.chipslectbasey=f.y,this.chipslect=l.Sprite.from("chipbg.png"),this.chipslect.anchor.set(.5,.5),this.chipslect.position.set(this.buttonX,this.chipslectbasey-6),this.chipcontainer.addChild(this.chipslect),this.chipcontainer.visible=!1}},{key:"initTableHit",value:function(){this.recttable.initHits()}},{key:"initCircleTable",value:function(){}},{key:"serCfgSuccess",value:function(){this.refreshBetChip(),this.initTableHit(),this.initChipBets(),this.initCircleTable(),this.refreshServHistory(),this.refreshUnCollectResult(),this.boradState=k.MenuIdle,m.default.getInstance().registerUiRootAndMainboard(this,this.root)}},{key:"cannotHitChip",value:function(){var e=g.default.getInstance().gamemenuopen;return this.boradState!=k.MenuIdle||e}},{key:"changeMainboardAni",value:function(){this.boradState=k.WheelAni}},{key:"checkMenuBtnsAble",value:function(){g.default.getInstance().betInfoEnmpty()||this.boradState!=k.MenuIdle?(this.btnClearBet.setEnabled(!1),this.btnUndoBet.setEnabled(!1),this.btnDoubelBet.setEnabled(!1),this.btnSpinDo.setEnabled(!1)):(this.btnClearBet.setEnabled(!0),this.btnUndoBet.setEnabled(!0),this.btnDoubelBet.setEnabled(!0),this.btnSpinDo.setEnabled(!0))}},{key:"lockMenuBtnButSpin",value:function(e){e?(this.btnClearBet.setEnabled(!1),this.btnUndoBet.setEnabled(!1),this.btnDoubelBet.setEnabled(!1)):g.default.getInstance().betInfoEnmpty()||this.boradState!=k.MenuIdle?this.lockMenuBtnButSpin(!0):(this.btnClearBet.setEnabled(!0),this.btnUndoBet.setEnabled(!0),this.btnDoubelBet.setEnabled(!0))}},{key:"createHistoryLabel",value:function(e,t){var i=new l.TextStyle({fill:t,fontFamily:"swipegamefont",fontSize:48,fontWeight:"normal",lineJoin:"round"}),n=new l.Text(e,i);return n.anchor.set(.5,.5),n}},{key:"refreshUnCollectResult",value:function(){var e=m.default.getInstance().getRoundResultNumber(),t=m.default.getInstance().getRoundWin();-1!=e&&this.refreshResultTip(e),g.default.getInstance().refreshWinUi(t)}},{key:"refreshServHistory",value:function(){var e=g.default.getInstance().getHistoryResults(),t=e.length;if(0!=t)for(var i=0;i<t;i++){var n=e[i],a=0==n?"0x1fd911":h.BlackNumbers.indexOf(n)>=0?"0x000000":"0xb30b0b",s=this.createHistoryLabel(n,a);s.position.set(100+78*(t-1-i),0),this.history.addChild(s)}}},{key:"refreshHistory",value:(e=(0,s.default)(a.default.mark(function e(){var t,i,n,s,o,r,l,c,d,f,p,m;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(t=g.default.getInstance().getHistoryResults()).length){e.next=1;break}return e.abrupt("return");case 1:for((i=this.history.children).length>w&&((n=i[0]).removeFromParent(),n.destroy()),s=this.history.children,o=0;o<s.length;o++)r=s[o],l=u.Action.moveBy(78,0,.2),r.run(l);return e.next=2,v.default.delayTime(200);case 2:c=t[t.length-1],d=0==c?"0x1fd911":h.BlackNumbers.indexOf(c)>=0?"0x000000":"0xb30b0b",(f=this.createHistoryLabel(c,d)).position.set(100,0),this.history.addChild(f),p=u.Action.fadeIn(.2),m=u.Action.sequence([u.Action.scaleTo(1.2,1.2,.2),u.Action.scaleTo(1,1,.2)]),f.run(p),f.run(m);case 3:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"update",value:function(e){m.default.getInstance().update(e)}},{key:"refreshResultTip",value:function(e){this.recttable.showResultItip(e)}},{key:"endResetState",value:function(){this.boradState=k.MenuIdle,this.lockMenuBtnButSpin(!1),this.refreshCancelBtnVisiable(!1),this.refreshHistory()}},{key:"refreshBetChip",value:function(){var e=g.default.getInstance().selectChip,t=e.value,i=g.default.getInstance().formatChipMoney(t),n=e.color,a=l.Texture.from(n);this.btnChipChange.setSpTexture(a),this.btnChipChange.setTxtext(i)}},{key:"handleChangeChipClick",value:function(e){if(this.boradState==k.MenuIdle){var t=e.replace(/[^\d]/g,""),i=parseInt(t),n=g.default.getInstance().getSelectChipObj(i);if(null!=n){var a=n.index,s=this.chipslectbasey-6+172*a;this.chipslect.position.set(this.buttonX,s),g.default.getInstance().setSelectChipAmount(i),this.refreshBetChip(),this.isChipSelecting=!1,this.refreshChipSelect()}}}},{key:"refreshChipSelect",value:function(){this.isChipSelecting?(this.btnUndoBet.setVisiable(!1),this.btnChipChange.setVisiable(!1),this.btnDoubelBet.setVisiable(!1),this.menubtnbg.visible=!1,this.chipcontainer.visible=!0):(this.btnUndoBet.setVisiable(!0),this.btnChipChange.setVisiable(!0),this.btnDoubelBet.setVisiable(!0),this.menubtnbg.visible=!0,this.chipcontainer.visible=!1)}},{key:"handleButtonClick",value:function(e){if(this.boradState==k.MenuIdle){if("betclear"==e)return g.default.getInstance().clearBetList(),this.clearAllChips(),void this.checkMenuBtnsAble();if("soundcontrol"!=e){if("undobet"==e){var t=g.default.getInstance().undoHitBet();return this.refreshChipByUndo(t),void this.checkMenuBtnsAble()}if("chipbet"==e)return this.isChipSelecting=!0,void this.refreshChipSelect();if("doubelbet"==e){var i=g.default.getInstance().doubleCurHit();return this.handleDoubleClick(i),void this.refreshAllBetNumberAni()}if("spin"==e){if(!g.default.getInstance().spinCheckEnoughMoney())return;if(g.default.getInstance().betInfoEnmpty())return;return this.isChipSelecting=!1,this.refreshChipSelect(),void this.actionWithStartSpin()}}else this.toggleSound()}}},{key:"actionWithStartSpin",value:function(){g.default.getInstance().refreshBetUi(),g.default.getInstance().refreshWinUi(0),m.default.getInstance().spinBtnAction()}},{key:"refreshCancelBtnVisiable",value:function(e){var t=m.default.getInstance().isUerOperable();this.btnSpinDo.setVisiable(!e),this.btnSpinDo.setEnabled(!e&&t)}},{key:"refreshSpinBtnState",value:function(e){this.btnSpinDo.setEnabled(e)}},{key:"resetCameraPosi",value:function(){var e=u.Action.moveTo(0,0,.2);this.root.run(e)}},{key:"playCameraMove",value:function(){var e=u.Action.moveTo(0,-h.RouletteCfg.WheelDefaultY,.2);this.root.run(e)}},{key:"handleDoubleClick",value:function(e){null!=e&&0!=e.length&&this.refreshChipByUndo(e)}},{key:"PlayChipNumberAni",value:function(e,t,i,n){var a=g.default.getInstance().formatMoney(e),s=v.default.createrTxt(a,48,"0xe6be01",!0);s.anchor.set(.5,.5),s.position.set(t,i),n.addChild(s);var o=u.Action.moveBy(0,-50,1);s.run(o,function(){s.removeFromParent(),s.destroy()})}},{key:"checkHideChipMenu",value:function(){this.isChipSelecting&&(this.isChipSelecting=!1,this.refreshChipSelect())}},{key:"canHitBetInBoard",value:function(){var e=m.default.getInstance().isUerOperable();return this.boradState==k.MenuIdle&&e}},{key:"handleCircleClick",value:function(e){}},{key:"handleBoardClick",value:function(e){this.checkHideChipMenu();var t=e.getHitTag(),i=this.recttable.clickPositionRect(t);if(null!=i){var n=e.getHitTag();this.destroyBoardChip(n);var a=this.betInfoTotalBet(n,!1),s=g.default.getInstance().getMaxChipObj(a);if(null!=s){var o=s.color,r=new f.default(a,n,o,i.x,i.y,this.tableroot);this.tableChipList.push(r)}this.checkMenuBtnsAble()}}},{key:"destroyBoardChip",value:function(e){for(var t=this.tableChipList.length-1;t>=0;t--){if(this.tableChipList[t].chiphittag==e)return void this.tableChipList.splice(t,1)[0].destroy()}}},{key:"refreshChipByUndo",value:function(e){if(null!=e&&0!=e.length){for(var t=[],i=[],n=e.length-1;n>=0;n--){var a=e[n],s=a.getHitTag();-1==t.indexOf(s)&&(t.push(s),i.push(a))}for(var o=i.length-1;o>=0;o--){var r=i[o];if(r.getIsCircleBet()){var l=r.getHitTag();this.clearTheChipsByTag(l);var u=r.getHitTag();this.clearTheChipsByTag(u)}else{var h=r.getHitTag();this.clearTheChipsByTag(h)}}for(var c=i.length-1;c>=0;c--){var d=i[c];d.getIsCircleBet()?this.handleCircleClick([d]):this.handleBoardClick(d)}}}},{key:"boradTotalBet",value:function(e){for(var t=[],i=[],n=g.default.getInstance().getBetLsts(),a=n.length,s=0;s<a;s++){var o=n[s];if(!e||o.getIsCircleBet()){var r=o.getHitTag(),l=o.amount,u=t.indexOf(r);if(-1==u){var h={amount:l,hittag:r};t.push(r),i.push(h)}else{i[u].amount+=l}}}return i}},{key:"betInfoTotalBet",value:function(e,t){for(var i=0,n=g.default.getInstance().getBetLsts(),a=n.length,s=0;s<a;s++){var o=n[s],r=o.getHitTag();t&&(r=o.getHitTag());var l=o.amount;r==e&&(i+=l)}return i}},{key:"refreshTableBetNumberAni",value:function(e){if(this.isTableRect){var t=e.getHitTag(),i=this.betInfoTotalBet(t,!1),n=this.recttable.clickPositionRect(t);null!=n&&this.PlayChipNumberAni(i,n.x,n.y,this.tableroot)}}},{key:"refreshAllBetNumberAni",value:function(){if(this.isTableRect)for(var e=this.boradTotalBet(!1),t=e.length-1;t>=0;t--){var i=e[t],n=i.hittag,a=i.amount,s=this.recttable.clickPositionRect(n);null!=s&&this.PlayChipNumberAni(a,s.x,s.y,this.tableroot)}}},{key:"clearTheChipsByTag",value:function(e){for(var t=this.tableChipList.length-1;t>=0;t--){var i=this.tableChipList[t];i.chiphittag==e&&(i.destroy(),this.tableChipList.splice(t,1))}}},{key:"clearAllChips",value:function(){for(var e=this.tableChipList.length-1;e>=0;e--){this.tableChipList[e].destroy()}this.tableChipList.length=0}},{key:"toggleSound",value:function(){this.soundPopup&&this.soundPopup.toggle()}},{key:"setupMusicAutoplayHandler",value:function(){var e=this;console.log("[MainBoard] Setting up music autoplay handlers");var t=!1,i=function(i){t||(t=!0,console.log("[MainBoard] ✓ User interaction detected:",i.type),e.backgroundMusicManager&&e.backgroundMusicManager.startOnUserInteraction(),n())},n=function(){a.forEach(function(e){document.removeEventListener(e,i,!0),window.removeEventListener(e,i,!0)})},a=["touchstart","touchend","mousedown","mouseup","click","keydown","pointerdown"];a.forEach(function(e){document.addEventListener(e,i,!0),window.addEventListener(e,i,!1)}),console.log("[MainBoard] Music autoplay handlers ready - waiting for ANY user touch/click")}},{key:"updateBackgroundMusicState",value:function(e){if(this.bgMusicMuted=e,this.backgroundMusicManager&&(e?this.backgroundMusicManager.mute():this.backgroundMusicManager.unmute()),this.wheel&&this.wheel.videoManager){var t=this.wheel.videoManager.backgroundVideo;t&&(t.muted=e)}}},{key:"updateGameSoundState",value:function(e){if(this.gameSoundMuted=e,this.wheel&&this.wheel.videoManager&&this.wheel.videoManager.currentVideo&&(this.wheel.videoManager.currentVideo.muted=e),e&&this.wheel&&this.wheel.videoManager){var t=this.wheel.videoManager.backgroundVideo;t&&(t.muted=!0)}}},{key:"hideVideoModeUIElements",value:function(){this.btnClearBet.setVisiable(!1),this.btnSoundCtrl.setVisiable(!1),this.btnUndoBet.setVisiable(!1),this.btnChipChange.setVisiable(!1),this.btnDoubelBet.setVisiable(!1),this.menubtnbg.visible=!1}},{key:"showVideoModeUIElements",value:function(){this.btnClearBet.setVisiable(!0),this.btnSoundCtrl.setVisiable(!0),this.btnUndoBet.setVisiable(!0),this.btnChipChange.setVisiable(!0),this.btnDoubelBet.setVisiable(!0),this.menubtnbg.visible=!0}},{key:"restoreTableTransforms",value:function(){this.originalTableTransforms&&(this.tableroot.scale.set(this.originalTableTransforms.tableroot.scaleX,this.originalTableTransforms.tableroot.scaleY),this.tableroot.position.set(this.originalTableTransforms.tableroot.x,this.originalTableTransforms.tableroot.y),this.chipcontainer.scale.set(this.originalTableTransforms.chipcontainer.scaleX,this.originalTableTransforms.chipcontainer.scaleY),this.chipcontainer.position.set(this.originalTableTransforms.chipcontainer.x,this.originalTableTransforms.chipcontainer.y),this.originalTableTransforms=null,this.showVideoModeUIElements())}},{key:"enterSplitScreenMode",value:function(){this.originalTableTransforms||(this.originalTableTransforms={tableroot:{scaleX:this.tableroot.scale.x,scaleY:this.tableroot.scale.y,x:this.tableroot.x,y:this.tableroot.y},chipcontainer:{scaleX:this.chipcontainer.scale.x,scaleY:this.chipcontainer.scale.y,x:this.chipcontainer.x,y:this.chipcontainer.y}});var e=this.tableroot.getLocalBounds(),t=this.chipcontainer.getLocalBounds(),i={x:e.x+e.width/2,y:e.y+e.height/2},n={x:t.x+t.width/2,y:t.y+t.height/2},a=this.tableroot.toGlobal(i),s=this.chipcontainer.toGlobal(n);this.hideVideoModeUIElements(),this.tableroot.scale.set(.5,.6),this.chipcontainer.scale.set(.5,.6);var o=this.tableroot.toGlobal(i),r=this.chipcontainer.toGlobal(n),l=a.x-o.x,h=a.y-o.y,c=s.x-r.x,d=s.y-r.y;this.tableroot.scale.set(this.originalTableTransforms.tableroot.scaleX,this.originalTableTransforms.tableroot.scaleY),this.chipcontainer.scale.set(this.originalTableTransforms.chipcontainer.scaleX,this.originalTableTransforms.chipcontainer.scaleY);var f=(window.innerWidth||1024)>768?400:500,g=this.tableroot.x+l,p=this.tableroot.y+h+f,v=this.chipcontainer.x+c,m=this.chipcontainer.y+d+f,b=.5,y=u.Action.scaleTo(.5,.6,b),k=u.Action.scaleTo(.5,.6,b),w=u.Action.moveTo(g,p,b),C=u.Action.moveTo(v,m,b),S=u.Action.group([y,w]),M=u.Action.group([k,C]);this.tableroot.run(S),this.chipcontainer.run(M,function(){})}},{key:"exitSplitScreenMode",value:function(){this.restoreTableTransforms()}}]);var e}()}},i={};function n(e){var a=i[e];if(void 0!==a)return a.exports;var s=i[e]={id:e,loaded:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=t,e=[],n.O=(t,i,a,s)=>{if(!i){var o=1/0;for(h=0;h<e.length;h++){for(var[i,a,s]=e[h],r=!0,l=0;l<i.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every(e=>n.O[e](i[l]))?i.splice(l--,1):(r=!1,s<o&&(o=s));if(r){e.splice(h--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var h=e.length;h>0&&e[h-1][2]>s;h--)e[h]=e[h-1];e[h]=[i,a,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={485:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var a,s,[o,r,l]=i,u=0;if(o.some(t=>0!==e[t])){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var h=l(n)}for(t&&t(i);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(h)},i=self.webpackChunkswipegame_frameworks=self.webpackChunkswipegame_frameworks||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),n.nc=void 0;var a=n.O(void 0,[76],()=>n(44497));a=n.O(a)})();